{"config":{"lang":["en"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u4f60\u597d","text":"<p>\u8fd9\u662f 2022-2023 NIPC\u6bd5\u8bbe \u7684\u53c2\u8003\u5185\u5bb9\u7f51\u7ad9</p>"},{"location":"COMPILE/compile-libs/","title":"\u4ea4\u53c9\u7f16\u8bd1\u5fc5\u8981\u5e93","text":"<pre><code>$ cd $HOME/Desktop/HiLinux\n</code></pre>"},{"location":"COMPILE/compile-libs/#zlib","title":"zlib","text":"<p>\u6240\u6709\u4e0e\u538b\u7f29\u76f8\u5173\u7684\u7b97\u6cd5\u51e0\u4e4e\u90fd\u9700\u8981\u4f9d\u8d56\u5e95\u5c42\u7684 <code>zlib</code>\u3002</p> <p><code>compile-zlib.sh</code>:</p> <pre><code>#!/bin/bash\nROOT_DIR=\"$HOME/Desktop/HiLinux\"\nINSTALL_DIR=\"${ROOT_DIR}/libraries\"\nmkdir -p $ROOT_DIR $INSTALL_DIR\n\nwget https://zlib.net/zlib1213.zip\nunzip zlib1213.zip\ncd zlib-1.2.13/\nexport cross=aarch64-himix200-linux\nCHOST=\"${cross}\" CC=\"${cross}-gcc\" CXX=\"${cross}-g++\" AR=\"${cross}-ar\" LD=\"${cross}-ld\" RANLIB=\"${cross}-ranlib\" ./configure --prefix=$INSTALL_DIR\nmake -j4\nmake install\ncd ..\n\nrm -rf zlib1213.zip zlib-1.2.13/\n</code></pre> <pre><code>$ vim compile-zlib.sh\n$ chmod +x compile-zlib.sh\n$ ./compile-zlib.sh\n</code></pre> <p>\u8fd9\u6837\u5728 <code>INSTALL_DIR</code> \u4e2d\uff0c\u5c31\u5df2\u7ecf\u5b89\u88c5\u4e86\u4ea4\u53c9\u7f16\u8bd1\u597d\u7684 <code>zlib</code>\uff1a</p> <pre><code>$ tree libraries/\nlibraries/\n\u251c\u2500\u2500 include\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 zconf.h\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 zlib.h\n\u251c\u2500\u2500 lib\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libz.a\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libz.so -&gt; libz.so.1.2.13\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libz.so.1 -&gt; libz.so.1.2.13\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libz.so.1.2.13\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 pkgconfig\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 zlib.pc\n\u2514\u2500\u2500 share\n    \u2514\u2500\u2500 man\n        \u2514\u2500\u2500 man3\n            \u2514\u2500\u2500 zlib.3\n</code></pre>"},{"location":"COMPILE/compile-libs/#ffi","title":"ffi","text":"<p>Python \u7f16\u8bd1\u9700\u8981\u3002</p> <pre><code>#!/bin/bash\nROOT_DIR=\"$HOME/Desktop/HiLinux\"\nINSTALL_DIR=\"${ROOT_DIR}/libraries\"\nmkdir -p $ROOT_DIR $INSTALL_DIR\n\nwget https://github.com/libffi/libffi/releases/download/v3.4.4/libffi-3.4.4.tar.gz\ntar xf libffi-3.4.4.tar.gz\ncd libffi-3.4.4/\nexport cross=aarch64-himix200-linux\nCHOST=\"${cross}\" CC=\"${cross}-gcc\" CXX=\"${cross}-g++\" AR=\"${cross}-ar\" LD=\"${cross}-ld\" RANLIB=\"${cross}-ranlib\" ./configure --prefix=$INSTALL_DIR --host=${cross}\nmake -j4\nmake install\ncd ..\n\nrm -rf libffi-3.4.4.tar.gz libffi-3.4.4/\n</code></pre> <pre><code>$ vim compile-ffi.sh\n$ chmod +x compile-zlib.sh\n$ ./compile-zlib.sh\n</code></pre> <p>\u8fd9\u6837\u5728 <code>INSTALL_DIR</code> \u4e2d\uff0c\u5c31\u5df2\u7ecf\u5b89\u88c5\u4e86\u4ea4\u53c9\u7f16\u8bd1\u597d\u7684 <code>libffi</code>\uff1a</p> <pre><code>$ tree libraries/\nlibraries/\n\u251c\u2500\u2500 include\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ffi.h\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ffitarget.h\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 zconf.h\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 zlib.h\n\u251c\u2500\u2500 lib\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libz.a\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libz.so -&gt; libz.so.1.2.13\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libz.so.1 -&gt; libz.so.1.2.13\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libz.so.1.2.13\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 pkgconfig\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 libffi.pc\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 zlib.pc\n\u251c\u2500\u2500 lib64\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libffi.a\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libffi.la\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libffi.so -&gt; libffi.so.8.1.2\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libffi.so.8 -&gt; libffi.so.8.1.2\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 libffi.so.8.1.2\n\u2514\u2500\u2500 share\n    \u251c\u2500\u2500 info\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 dir\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 libffi.info\n    \u2514\u2500\u2500 man\n        \u2514\u2500\u2500 man3\n            \u251c\u2500\u2500 ffi.3\n            \u251c\u2500\u2500 ffi_call.3\n            \u251c\u2500\u2500 ffi_prep_cif.3\n            \u251c\u2500\u2500 ffi_prep_cif_var.3\n            \u2514\u2500\u2500 zlib.3\n</code></pre>"},{"location":"COMPILE/compile-libs/#libpng","title":"libpng","text":"<p>\u9879\u76ee\u4e2d\u9700\u8981\u4f7f\u7528 <code>libpng</code> \u5bf9\u56fe\u50cf\u6570\u636e\u538b\u7f29\u4e4b\u540e\u518d\u4f20\u8f93\u3002</p> <p><code>compile-png.sh</code>:</p> <pre><code>#!/bin/bash\nROOT_DIR=\"$HOME/Desktop/HiLinux\"\nINSTALL_DIR=\"${ROOT_DIR}/libraries\"\nmkdir -p $ROOT_DIR $INSTALL_DIR\n\nwget https://jaist.dl.sourceforge.net/project/libpng/libpng16/1.6.39/libpng-1.6.39.tar.xz\ntar xf libpng-1.6.39.tar.xz\ncd libpng-1.6.39/\nexport cross=aarch64-himix200-linux\nCHOST=\"${cross}\" CC=\"${cross}-gcc\" CXX=\"${cross}-g++\" AR=\"${cross}-ar\" LD=\"${cross}-ld\" RANLIB=\"${cross}-ranlib\" CFLAGS=\"-I$INSTALL_DIR/include\" CPPFLAGS=\"-I$INSTALL_DIR/include\" LDFLAGS=\"-L$INSTALL_DIR/lib -L$INSTALL_DIR/lib64\" ./configure --prefix=$INSTALL_DIR --host=${cross}\nmake -j4 \nmake install\ncd ..\n\nrm -rf libpng-1.6.39.tar.xz libpng-1.6.39/\n</code></pre> <pre><code>$ vim compile-ffi.sh\n$ chmod +x compile-zlib.sh\n$ ./compile-zlib.sh\n</code></pre>"},{"location":"COMPILE/compile-python/","title":"\u4ea4\u53c9\u7f16\u8bd1 Python3.10.8","text":"<p>\u6b64\u6587\u6784\u5efa\u7684 Python \u542b pip/zlib/ffi</p> <p>\u8bf7\u4f7f\u7528 <code>Ubuntu 22.04</code>\uff0c\u8fd9\u4e2a\u7248\u672c\u6d4b\u8bd5\u6210\u529f\u7f16\u8bd1\u3002</p> <p>\u7cfb\u7edf\u81ea\u5e26\u4e0e\u9700\u8981\u7f16\u8bd1\u7684\u7248\u672c\u76f8\u540c\u7684 <code>Python3.10</code>\uff0c\u8fd9\u7701\u53bb\u4e86\u9700\u8981\u5728\u672c\u673a\u5b89\u88c5 <code>Python</code> \u7684\u8fc7\u7a0b\uff1a</p> <pre><code>$ python3 -V\nPython 3.10.6\n</code></pre> <p>\u9996\u5148\u786e\u4fdd\u5b89\u88c5\u4e86 <code>aarch64-himix200-linux</code> \u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u3002</p> <p>\u5176\u6b21\u5b89\u88c5 <code>make</code>\uff1a</p> <pre><code>$ sudo apt-get install build-essential\n</code></pre>"},{"location":"COMPILE/compile-python/#zlibpython","title":"\u5c06zlib\u52a0\u5165Python\u7684\u7f16\u8bd1\u811a\u672c","text":"<p><code>compile-python.sh</code>:</p> <pre><code>#!/bin/bash\nTARGET_HOST=\"aarch64-himix200-linux\" # \u8fd9\u4e00\u884c\u6709\u4fee\u6539 \u6362\u6210HiLinux\u7684\u7f16\u8bd1\u5de5\u5177\u94fe\nROOT_FILESYSTEM=\"/usr/arm-linux-gnueabi/\"\nBUILD_HOST=\"x86_64-linux-gnu\" # find out with uname -m\nPYTHON_VERSION=\"3.10.8\"\nPYTHON_ARCHIVE=\"Python-$PYTHON_VERSION.tar.xz\"\nROOT_DIR=\"$HOME/Desktop/HiLinux\"\nSOURCE_DIR=\"Python-$PYTHON_VERSION\"\nINSTALL_DIR=\"${ROOT_DIR}/libraries\"\n\nexport RFS=\"$ROOT_FILESYSTEM\"\nmkdir -p $ROOT_DIR $INSTALL_DIR\n\nENABLE_MODULES=\"_ctypes zlib array cmath binascii _collections cPickle cStringIO datetime\n_elementtree fcntl _functools itertools _io math _md5 operator _random select\n_sha _socket _struct termios time unicodedata\"\n\n# Step 1 - Downloading Python and extracting\ncd $ROOT_DIR\nwget -c http://www.python.org/ftp/python/$PYTHON_VERSION/$PYTHON_ARCHIVE\ntar -xf $PYTHON_ARCHIVE\ncd $SOURCE_DIR\n\n# Step 2 - Enable modules by uncommenting them in Modules/Setup.dist\nfor module in $ENABLE_MODULES\ndo\nsed \"s/^#$module/$module/\" -i Modules/Setup # is `-i Modules/Setup.dist` before in Python3.6\ndone\n\n# Step 3 - Cross-Compile\nmake distclean\n# \u5728\u8fd9\u91cc\u6dfb\u52a0\u521a\u624d\u7f16\u8bd1\u597d\u7684zlib\nCFLAGS=\"-I$INSTALL_DIR/include\" CPPFLAGS=\"-I$INSTALL_DIR/include\" LDFLAGS=\"-L$INSTALL_DIR/lib -L$INSTALL_DIR/lib64\" ./configure --host=$TARGET_HOST --build=$BUILD_HOST --prefix=$INSTALL_DIR --disable-ipv6 ac_cv_file__dev_ptmx=no ac_cv_file__dev_ptc=no ac_cv_have_long_long_format=yes --with-ensurepip=install\nmake -j4 # \u53ef\u4ee5\u52a0-j\u591a\u6838\u7f16\u8bd1\u6765\u52a0\u901f\nmake install\n\ncd $ROOT_DIR\nrm -rf $SOURCE_DIR $PYTHON_ARCHIVE\n</code></pre> <pre><code>$ vim compile-python.sh\n$ chmod +x compile-python.sh\n$ ./compile-python.sh\n</code></pre> <p>\u6267\u884c\u5b8c\u8fd9\u4e2a\u811a\u672c\u53ef\u4ee5\u5728 <code>INSTALL_DIR/bin</code> \u4e2d\u627e\u5230Python\u3002</p>"},{"location":"COMPILE/compile-python/#_1","title":"\u5b89\u88c5","text":"<p>\u6309\u7167 \u5b89\u88c5 libraries \u4e2d\u7684\u6b65\u9aa4\u8fdb\u884c\u5b89\u88c5\u3002</p>"},{"location":"COMPILE/compile-python/#_2","title":"\u67e5\u770b\u6548\u679c","text":"<p>\u6253\u5f00 HiLinux\uff1a</p> <pre><code>$ which python3\n/root/yxj/SOFTWARE/libraries/bin/python3\n$ python3 -V\nPython 3.10.8\n$ python3\nPython 3.10.8 (main, Nov 19 2022, 18:09:06) [GCC 7.3.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import zlib\n&gt;&gt;&gt; import ctypes\n&gt;&gt;&gt; import time\n&gt;&gt;&gt; time.time()\n9486.930260722\n&gt;&gt;&gt;\n\n$ python3 -m ensurepip --default-pip # \u521d\u59cb\u5316pip\nInstalling collected packages: setuptools, pip\nSuccessfully installed pip-22.2.2 setuptools-63.2.0\n$ which pip3\n/root/yxj/SOFTWARE/libraries/bin/pip3\n$ pip3 -V\npip 22.2.2 from /root/yxj/SOFTWARE/libraries/lib/python3.10/site-packages/pip (python 3.10)\n</code></pre>"},{"location":"COMPILE/compile-python/#_3","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li>j-c-cook/cross-compile-python.md</li> <li>building Python from source with zlib support</li> </ul>"},{"location":"COMPILE/install-compiler/","title":"Ubuntu \u5b89\u88c5 HiLinux \u7f16\u8bd1\u5de5\u5177\u94fe","text":"<p>\u9996\u5148\u4ece\u6700\u7b80\u5355\u7684 C/C++ \u5165\u624b\u3002\u6211\u4eec\u9700\u8981\u5148\u5b89\u88c5 gcc/g++\u3002</p>"},{"location":"COMPILE/install-compiler/#_1","title":"\u4f7f\u7528\u6d77\u601d\u63d0\u4f9b\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177","text":""},{"location":"COMPILE/install-compiler/#1-ubuntu","title":"1. \u6709\u4e00\u53f0Ubuntu\u7684\u673a\u5668","text":"<p>\u6253\u5f00 https://ubuntu.com/download/desktop\uff0c\u4e0b\u8f7d\u6700\u65b0\u7684LTS\u7248\u672c\u5373\u53ef\u3002221104\u770b\u5230\u7684\u662f <code>Ubuntu 22.04.1 LTS</code>\u3002\u6211\u8fd9\u91cc\u7528macOS\u4e0a\u7684\u865a\u62df\u673aVMWare\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u865a\u62df\u673a\uff0c\u7528\u6237\u540d\u662f <code>yxj</code>\u3002</p>"},{"location":"COMPILE/install-compiler/#2","title":"2. \u5b89\u88c5\u5fc5\u8981\u4f9d\u8d56","text":"<p>\u7531\u4e8e\u6240\u7ed9\u7684\u5de5\u5177\u94fe\u662f32\u4f4d\uff0c\u9700\u8981\u5148\u5b89\u88c5\u4f9d\u8d56\uff08\u53c2\u8003https://askubuntu.com/questions/454253/how-to-run-32-bit-app-in-ubuntu-64-bit\uff09\uff1a</p> <pre><code>$ sudo dpkg --add-architecture i386\n$ sudo apt-get update\n$ sudo apt-get install libc6:i386 libncurses5:i386 libstdc++6:i386\n</code></pre>"},{"location":"COMPILE/install-compiler/#3-aarch64-himix200-linuxtgz","title":"3. \u4e0b\u8f7daarch64-himix200-linux.tgz","text":"<p>\u8fd9\u4efd\u538b\u7f29\u5305\u91cc\u9762\u6709\u5728x86\u7cfb\u7edf\u4e0a\u4ea4\u53c9\u7f16\u8bd1\u9002\u7528\u4e8eHiLinux\u7cfb\u7edf\u7684\u7a0b\u5e8f\uff0c\u968f\u6d77\u601d\u4ea7\u54c1\u9644\u3002\u6e05\u534e\u4e91\u76d8\u4e0b\u8f7d\u94fe\u63a5\uff1ahttps://cloud.tsinghua.edu.cn/f/3a165bbecdae43078723/</p>"},{"location":"COMPILE/install-compiler/#4","title":"4. \u89e3\u538b\u5b89\u88c5","text":"<p>\u5c06\u538b\u7f29\u5305\u653e\u5230Ubuntu\u7cfb\u7edf</p> <pre><code>$ tar -xf aarch64-himix200-linux.tgz\n$ cd aarch64-himix200-linux\n$ sudo ./aarch64-himix200-linux.install\n</code></pre> <p>\u8f93\u5165\u8d26\u6237\u5bc6\u7801\u5373\u53ef\u5b89\u88c5\u3002</p> <p>\u4fee\u6539\u73af\u5883\u8def\u5f84\uff1a</p> <pre><code>$ vim ~/.bashrc # \u6ca1\u6709vim\u8dd1\u4e00\u4e0b`sudo apt-get install vim`\n</code></pre> <p>\u6700\u540e\u4e00\u884c\u52a0\u5165\uff1a</p> <pre><code>export PATH=\"$PATH:/opt/hisi-linux/x86-arm/aarch64-himix200-linux/bin\"\n</code></pre> <p>\u4fdd\u5b58\u9000\u51fa\u3002</p> <pre><code>$ source ~/.bashrc\n</code></pre>"},{"location":"COMPILE/install-compiler/#5","title":"5. \u786e\u8ba4\u5b89\u88c5\u60c5\u51b5","text":"<pre><code>$ aarch64-himix200-linux-gcc --version\naarch64-himix200-linux-gcc (HC&amp;C V1R3C00SPC200B017_20190910) 7.3.0\nCopyright (C) 2017 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n</code></pre> <p>\u521b\u5efa\u4e0b\u9762\u7684C\u6587\u4ef6<code>main.c</code>\uff1a</p> <pre><code>#include &lt;stdio.h&gt;\n\nint main() {\nprintf(\"Hello, world.\\n\");\nreturn 0;\n}\n</code></pre> <pre><code>$ aarch64-himix200-linux-gcc main.c\n/opt/hisi-linux/x86-arm/aarch64-himix200-linux/host_bin/../libexec/gcc/aarch64-linux-gnu/7.3.0/cc1: error while loading shared libraries: libz.so.1: cannot open shared object file: No such file or directory\n$ sudo apt-get install zlib1g:i386\n$ aarch64-himix200-linux-gcc main.c\n</code></pre> <p>\u5c06\u751f\u6210\u7684 <code>a.out</code> \u7528ftp\u4f20\u5230\u677f\u5b50\u4e0a\uff1a</p> <pre><code>~/yxj/SOFTWARE # ./a.out\n-sh: ./a.out: Permission denied\n~/yxj/SOFTWARE # chmod +x ./a.out\n~/yxj/SOFTWARE # ./a.out\nHello.~/yxj/SOFTWARE #\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230 <code>Hello.</code> \u6b63\u786e\u88ab\u8f93\u51fa\u3002</p>"},{"location":"COMPILE/install-compiler/#_2","title":"\u67e5\u770b\u6240\u6709\u53ef\u7528\u7a0b\u5e8f","text":"<pre><code>$ ls /opt/hisi-linux/x86-arm/aarch64-himix200-linux/bin\naarch64-himix200-linux-addr2line   aarch64-himix200-linux-gcov-tool\naarch64-himix200-linux-ar          aarch64-himix200-linux-gdb\naarch64-himix200-linux-as          aarch64-himix200-linux-gprof\naarch64-himix200-linux-c++         aarch64-himix200-linux-ld\naarch64-himix200-linux-c++filt     aarch64-himix200-linux-ld.bfd\naarch64-himix200-linux-cpp         aarch64-himix200-linux-nm\naarch64-himix200-linux-elfedit     aarch64-himix200-linux-objcopy\naarch64-himix200-linux-g++         aarch64-himix200-linux-objdump\naarch64-himix200-linux-gcc         aarch64-himix200-linux-ranlib\naarch64-himix200-linux-gcc-7.3.0   aarch64-himix200-linux-readelf\naarch64-himix200-linux-gcc-ar      aarch64-himix200-linux-size\naarch64-himix200-linux-gcc-nm      aarch64-himix200-linux-strings\naarch64-himix200-linux-gcc-ranlib  aarch64-himix200-linux-strip\naarch64-himix200-linux-gcov\n</code></pre>"},{"location":"COMPILE/install-libs/","title":"HiLinux \u5b89\u88c5 libraries","text":"<p>\u5c06 Ubuntu \u4e0a\u5f97\u5230\u7684 <code>libraries</code> \u6587\u4ef6\u5939\u6253\u5305\uff1a</p> <pre><code>tar -cf libraries.tar libraries/\n</code></pre> <p>\u5176\u4e2d\u5185\u5bb9\u4e3a\uff1a</p> <pre><code>.\n\u251c\u2500\u2500 bin\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 2to3 -&gt; 2to3-3.10\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 2to3-3.10\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 idle3 -&gt; idle3.10\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 idle3.10\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libpng-config -&gt; libpng16-config\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libpng16-config\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 png-fix-itxt\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pngfix\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pydoc3 -&gt; pydoc3.10\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pydoc3.10\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 python3 -&gt; python3.10\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 python3-config -&gt; python3.10-config\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 python3.10\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 python3.10-config\n\u251c\u2500\u2500 include\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ffi.h\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ffitarget.h\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libpng16\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 png.h -&gt; libpng16/png.h\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pngconf.h -&gt; libpng16/pngconf.h\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pnglibconf.h -&gt; libpng16/pnglibconf.h\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 python3.10\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 zconf.h\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 zlib.h\n\u251c\u2500\u2500 lib\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libpng.a -&gt; libpng16.a\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libpng.la -&gt; libpng16.la\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libpng.so -&gt; libpng16.so\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libpng16.a\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libpng16.la\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libpng16.so -&gt; libpng16.so.16.39.0\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libpng16.so.16 -&gt; libpng16.so.16.39.0\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libpng16.so.16.39.0\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libpython3.10.a\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libz.a\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libz.so -&gt; libz.so.1.2.13\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libz.so.1 -&gt; libz.so.1.2.13\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libz.so.1.2.13\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pkgconfig\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 python3.10\n\u251c\u2500\u2500 lib64\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libffi.a\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libffi.la\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libffi.so -&gt; libffi.so.8.1.2\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libffi.so.8 -&gt; libffi.so.8.1.2\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 libffi.so.8.1.2\n\u2514\u2500\u2500 share\n    \u251c\u2500\u2500 info\n    \u2514\u2500\u2500 man\n</code></pre> <p>\u5bf9\u4e8e\u6211\u4eec\u6765\u8bf4\uff0c\u4e3b\u8981\u5305\u542b Python 3.10 \u548c libpng\u3002Python \u53ef\u4ee5\u6781\u5927\u63d0\u9ad8\u7f16\u7a0b\u8c03\u8bd5\u6548\u7387\uff0clibpng \u5219\u9700\u8981\u5728\u9879\u76ee\u4e2d\u7528\u6765\u7f16\u7801 PNG \u6587\u4ef6\u3002</p> <p>\u4f60\u53ef\u4ee5\u4e0d\u901a\u8fc7 Ubuntu \u6784\u5efa\uff0c\u76f4\u63a5\u4e0b\u8f7d\u5df2\u7ecf\u6784\u5efa\u6253\u5305\u597d\u7684 <code>libraries.tar</code>\uff1a</p> <p>https://cloud.tsinghua.edu.cn/f/66cf1871b6d347e598b8/</p> <p>\u7528 FTP \u5c06 <code>libraries.tar</code> \u4f20\u5230 HiLinux\uff0c \u5728 HiLinux \u4e0a\u89e3\u538b\u5f97\u5230 <code>libraries</code>\uff0c\u8def\u5f84\u8bb0\u4e3a <code>INSTALL_DIR</code>\u3002</p> <pre><code>tar -xf libraries.tar\n</code></pre> <p>\u5728 <code>~/.profile</code> \u4e2d\u6dfb\u52a0\uff1a</p> <pre><code>INSTALL_DIR=/root/yxj/SOFTWARE/libraries # modify it to your path\nexport PATH=\"$PATH:$INSTALL_DIR/bin/\"\nexport LD_LIBRARY_PATH=\"$LD_LIBRARY_PATH:$INSTALL_DIR/lib:$INSTALL_DIR/lib64\"\n</code></pre> <pre><code>$ source ~/.profile\n</code></pre>"},{"location":"COMPILE/use-libpng/","title":"\u4f7f\u7528 libpng","text":"<p>\u9700\u8981\u51c6\u5907\u597d <code>input.bin</code>\uff0c\u662f\u4e00\u4e2a <code>2048*1080/8</code> B \u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff08\u5185\u5bb9\u6bcf 1 bit \u4e3a\u4e00\u4e2a\u50cf\u7d20\uff09\u3002</p> <p><code>png.c</code>:</p> <pre><code>#include &lt;png.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n// [useful functions]\n\nstatic const unsigned char reverse_byte[] = {\n0x00, 0x80, 0x40, 0xc0, 0x20, 0xa0, 0x60, 0xe0, 0x10, 0x90, 0x50, 0xd0,\n0x30, 0xb0, 0x70, 0xf0, 0x08, 0x88, 0x48, 0xc8, 0x28, 0xa8, 0x68, 0xe8,\n0x18, 0x98, 0x58, 0xd8, 0x38, 0xb8, 0x78, 0xf8, 0x04, 0x84, 0x44, 0xc4,\n0x24, 0xa4, 0x64, 0xe4, 0x14, 0x94, 0x54, 0xd4, 0x34, 0xb4, 0x74, 0xf4,\n0x0c, 0x8c, 0x4c, 0xcc, 0x2c, 0xac, 0x6c, 0xec, 0x1c, 0x9c, 0x5c, 0xdc,\n0x3c, 0xbc, 0x7c, 0xfc, 0x02, 0x82, 0x42, 0xc2, 0x22, 0xa2, 0x62, 0xe2,\n0x12, 0x92, 0x52, 0xd2, 0x32, 0xb2, 0x72, 0xf2, 0x0a, 0x8a, 0x4a, 0xca,\n0x2a, 0xaa, 0x6a, 0xea, 0x1a, 0x9a, 0x5a, 0xda, 0x3a, 0xba, 0x7a, 0xfa,\n0x06, 0x86, 0x46, 0xc6, 0x26, 0xa6, 0x66, 0xe6, 0x16, 0x96, 0x56, 0xd6,\n0x36, 0xb6, 0x76, 0xf6, 0x0e, 0x8e, 0x4e, 0xce, 0x2e, 0xae, 0x6e, 0xee,\n0x1e, 0x9e, 0x5e, 0xde, 0x3e, 0xbe, 0x7e, 0xfe, 0x01, 0x81, 0x41, 0xc1,\n0x21, 0xa1, 0x61, 0xe1, 0x11, 0x91, 0x51, 0xd1, 0x31, 0xb1, 0x71, 0xf1,\n0x09, 0x89, 0x49, 0xc9, 0x29, 0xa9, 0x69, 0xe9, 0x19, 0x99, 0x59, 0xd9,\n0x39, 0xb9, 0x79, 0xf9, 0x05, 0x85, 0x45, 0xc5, 0x25, 0xa5, 0x65, 0xe5,\n0x15, 0x95, 0x55, 0xd5, 0x35, 0xb5, 0x75, 0xf5, 0x0d, 0x8d, 0x4d, 0xcd,\n0x2d, 0xad, 0x6d, 0xed, 0x1d, 0x9d, 0x5d, 0xdd, 0x3d, 0xbd, 0x7d, 0xfd,\n0x03, 0x83, 0x43, 0xc3, 0x23, 0xa3, 0x63, 0xe3, 0x13, 0x93, 0x53, 0xd3,\n0x33, 0xb3, 0x73, 0xf3, 0x0b, 0x8b, 0x4b, 0xcb, 0x2b, 0xab, 0x6b, 0xeb,\n0x1b, 0x9b, 0x5b, 0xdb, 0x3b, 0xbb, 0x7b, 0xfb, 0x07, 0x87, 0x47, 0xc7,\n0x27, 0xa7, 0x67, 0xe7, 0x17, 0x97, 0x57, 0xd7, 0x37, 0xb7, 0x77, 0xf7,\n0x0f, 0x8f, 0x4f, 0xcf, 0x2f, 0xaf, 0x6f, 0xef, 0x1f, 0x9f, 0x5f, 0xdf,\n0x3f, 0xbf, 0x7f, 0xff,\n};\n\n// [parameters]\n\nunsigned int input_width = 2048;\nunsigned int input_height = 1080;\nunsigned int png_width = 1920;\nunsigned int png_height = 1080;\nconst char* input_file = \"input.bin\";\nconst char* output_file = \"output.png\";\n\nint main() {\n// [read binary input]\n\nunsigned int input_len = input_width * input_height / 8;\nunsigned char* input = (unsigned char*)malloc(input_len);\nFILE* input_f = fopen(input_file, \"rb\");\nfread(input, 8, input_len, input_f);\nfclose(input_f);\n\nfor (unsigned int i = 0; i &lt; input_width * input_height / 8; i++) {\ninput[i] = reverse_byte[input[i]];\n}\n\npng_bytep row_pointers[input_height];\nfor (png_uint_32 k = 0; k &lt; input_height; k++) {\nrow_pointers[k] = input + k * input_width / 8;\n}\n\n// [png encoding]\n\nFILE* output_f = fopen(output_file, \"wb\");\npng_structp png_ptr =\npng_create_write_struct(PNG_LIBPNG_VER_STRING, NULL, NULL, NULL);\npng_infop info_ptr = png_create_info_struct(png_ptr);\n\npng_init_io(png_ptr, output_f);\npng_set_IHDR(png_ptr, info_ptr, png_width, png_height, 1, PNG_COLOR_TYPE_GRAY,\nPNG_INTERLACE_NONE, PNG_COMPRESSION_TYPE_BASE,\nPNG_FILTER_TYPE_BASE);\npng_write_info(png_ptr, info_ptr);\n\npng_write_image(png_ptr, row_pointers);\npng_write_end(png_ptr, info_ptr);\npng_destroy_write_struct(&amp;png_ptr, &amp;info_ptr);\nfclose(output_f);\n\nreturn 0;\n}\n</code></pre> <pre><code>aarch64-himix200-linux-gcc png.c -I/home/yxj/Desktop/HiLinux/libraries/include -L/home/yxj/Desktop/HiLinux/libraries/lib -L/home/yxj/Desktop/HiLinux/libraries/lib64 -lz -lpng\nmv a.out generate_png\nchmod +x generate_png\n</code></pre> <p>\u6ce8\u610f\uff1a\u4e00\u5b9a\u8981\u52a0 <code>-lz -lpng</code></p>"},{"location":"FPGA/blogs/","title":"FPGA\u76f8\u5173\u6280\u672f\u535a\u5ba2","text":"<ul> <li>\u6742\u8c08\u2014\u6211\u773c\u4e2d\u7684FPGA\u4e0eDSP - \u767e\u5ea6\u6587\u5e93</li> <li>Real-Time FPGA-Based Systems to Remote Monitoring</li> <li>FPGA\u539f\u7406\u548c\u7ed3\u6784\u7b80\u4ecb<ul> <li>\u597d\u4e66\u901f\u9012 | FPGA\u539f\u7406\u548c\u7ed3\u6784</li> </ul> </li> <li>\u5f00\u53d1\u8005\u5206\u4eab | \u5982\u4f55\u786e\u5b9a\u4e00\u4e2a\u786c\u4ef6\u52a0\u901f\u5e94\u7528</li> </ul>"},{"location":"FPGA/dma-hints/","title":"DMA\u4f7f\u7528\u8bf4\u660e","text":"<p>\u6ce8\u610f\u6240\u6709\u7684\u5185\u5b58\u3001\u5730\u5740\u5355\u4f4d\u90fd\u662f Byte\uff01\u6ca1\u6709\u7279\u4f8b\uff01</p> <p>\u9996\u5148 FPGA \u662f\u6709\u4e00\u4efd\u5185\u5b58\u7684\uff0c\u5728\u7f16\u5199 HiLinux \u8fd9\u8fb9\u7684\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u4e0d\u9700\u8981\u8003\u8651 FPGA \u7684\u90e8\u5206\uff0c\u56e0\u4e3a\u8fd9\u90e8\u5206\u5185\u5b58\u53ea\u6709 FPGA \u624d\u80fd\u8bbf\u95ee\u5f97\u5230\u3002\u8fd9\u90e8\u5206\u5185\u5b58\u7684\u6b63\u5f0f\u540d\u5b57\u5e94\u8be5\u662f DMA\u3002</p> <p>\u6211\u4eec\u9700\u8981\u5148\u4f7f\u7528 <code>int _aligned_malloc(void **memptr, size_t size);</code> \u6765\u7533\u8bf7 HiLinux \u548c FPGA \u80fd\u591f\u5171\u540c\u8bbf\u95ee\u7684\u5185\u5b58\u3002\u8003\u8651\u5230\u8f93\u5165\u8f93\u51fa\u90fd\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u5171\u4eab\u5185\u5b58\uff0c\u6211\u4eec\u53d6\u4e24\u8005\u7684\u6700\u5927\u503c\u521d\u59cb\u5316\u8fd9\u7247\u5185\u5b58\u5c31\u597d\u4e86\u3002\u6bd4\u5982\u4f20 <code>2 * 4096 * 4096 B</code> \u7684\u6570\u636e\uff0c<code>size</code> \u7ed9\u8fd9\u4e2a\u503c\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u5728\u5c06\u6570\u636e\u4ece HiLinux \u5199\u5165\u5230 FPGA \u7684 DMA \u65f6\uff0c\u6211\u4eec\u4f7f\u7528\u7684\u51fd\u6570\u662f <code>int XPcie_DMA_Write(int fd, uint32_t addr, char *buffer, size_t size);</code>\u3002\u8fd9\u91cc\u7684 <code>buffer</code> \u9700\u8981\u7ed9\u5165\u5171\u4eab\u5185\u5b58\u3002</p> <p>\u5728\u5c06\u6570\u636e\u4ece FPGA \u7684 DMA \u8bfb\u53d6\u5230 HiLinux \u7684\u5185\u5b58\u4e2d\u65f6\uff0c\u6211\u4eec\u4f7f\u7528\u7684\u51fd\u6570\u662f <code>int XPcie_DMA_Read(int fd, uint32_t addr, char *buffer, size_t size);</code>\uff0c\u8fd9\u91cc\u7684 <code>buffer</code> \u9700\u8981\u7ed9\u5165\u5171\u4eab\u5185\u5b58\u3002</p> <p>\u8bfb\u53d6\u4e4b\u540e\uff0cHiLinux \u7a0b\u5e8f\u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6\u5171\u4eab\u5185\u5b58\u4e2d\u7684\u6570\u636e\uff0c\u8fd9\u5c31\u662f FPGA \u8fd4\u56de\u7684\u5904\u7406\u7ed3\u679c\u5b58\u50a8\u7684\u5730\u65b9\u3002</p> <p>\u7a0b\u5e8f\u7ed3\u675f\u65f6\uff0c\u9700\u8981\u6ce8\u610f\u4f7f\u7528 <code>void _aligned_free(void *buf);</code> \u91ca\u653e\u5171\u4eab\u5185\u5b58</p>"},{"location":"FPGA/dma-hints/#xpcie_libh","title":"\u9644 XPcie_Lib.h","text":"<pre><code>#include &lt;unistd.h&gt;\n#include &lt;assert.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;getopt.h&gt;\n#include &lt;stdint.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;stdbool.h&gt;\n#ifdef XPCIE_DLL_EXPORTS\n#define XPCIE_DLL_API\n#else\n#define XPCIE_DLL_API\n#endif\n\n//\u677f\u5361\u4fe1\u606f\n#define MAX_CARDNUM 8\ntypedef struct{\nint nBoardNum;\nstruct {\nunsigned short vendor;\nunsigned short device;\nint nBoardID;\n} BOARDINDEX[MAX_CARDNUM];\n} XPCIE_BOARDINFO, *PXPCIE_BOARDINFO;\n\n#ifdef __cplusplus\nextern \"C\" {\n#endif\n/*-\n    Function name     : _aligned_malloc\n    Description       : \u7533\u8bf7\u901a\u9053\u7f13\u51b2\u533a\n    Parameter\n    @ memptr          : \u7f13\u51b2\u533a\u6307\u9488\n    @ size            : \u7f13\u51b2\u533a\u5927\u5c0f\n    * Return          : \u5931\u8d25\u8fd4\u56de&lt;0\n    -*/\nint _aligned_malloc(void **memptr, size_t size);\n\n/*-\n    Function name     : _aligned_free\n    Description       : \u91ca\u653e\u901a\u9053\u7f13\u51b2\u533a\n    Parameter\n    @ buf             : \u7f13\u51b2\u533a\u6307\u9488\n    * Return          : \n    -*/\nvoid _aligned_free(void *buf);\n\n/*-\n    Function name     : XPcie_GetBoardListInfo\n    Description       : \u83b7\u53d6\u677f\u5361\u5217\u8868\u4fe1\u606f\n    Parameter\n    @ pXPcieBoardInfo : \u677f\u5361\u4fe1\u606f\n    * Return          : \n    -*/\nXPCIE_DLL_API void XPcie_GetBoardListInfo(PXPCIE_BOARDINFO pXPcieBoardInfo);\n\n/*-\n    Function name : XPcie_Device_Open\n    Description   : \u6253\u5f00\u677f\u5361\n    Parameter\n    @ fd          : \u677f\u5361\u53f7\n    * Return      : \u6210\u529f\u8fd4\u56de\u8981\u6253\u5f00\u7684\u677f\u5361\u53f7\uff0c\u5931\u8d25\u8fd4\u56de-1\n    -*/\nXPCIE_DLL_API int XPcie_Device_Open(int fd);\n\n/*-\n    Function name : XPcie_Device_Close\n    Description   : \u5173\u95ed\u677f\u5361\n    Parameter\n    @ fd          : \u677f\u5361\u53f7\n    * Return      : \u6210\u529f\u8fd4\u56de0\n    -*/\nXPCIE_DLL_API int XPcie_Device_Close(int fd);\n\n/*-\n    Function name : XPcie_DMA_Read_Init\n    Description   : \u63a5\u6536\u901a\u9053\u521d\u59cb\u5316\n    Parameter\n    @ fd          : \u677f\u5361\u53f7\n    @ size        : DMA\u5927\u5c0f\n    * Return      : \u6210\u529f\u8fd4\u56de0\uff0c\u5426\u5219&lt;0\n    -*/\nXPCIE_DLL_API int XPcie_DMA_Read_Init(int fd, size_t size);\n\n/*-\n    Function name : XPcie_DMA_Read\n    Description   : \u63a5\u6536\u901a\u9053\u4f20\u8f93\u6570\u636e\n    Parameter\n    @ fd          : \u677f\u5361\u53f7\n    @ addr        : DDR\u5730\u5740(\u672a\u4f7f\u7528,\u53ef\u968f\u610f\u4f20)\n    @ buffer      : \u4e0a\u884c\u6570\u636e\u63a5\u6536\u7f13\u51b2\u533a\n    @ size        : DMA\u5927\u5c0f\n    * Return      : \u6210\u529f\u8fd4\u56de\u4f20\u8f93\u6570\u636e\u957f\u5ea6\uff0c\u5426\u5219&lt;0\n    -*/\nXPCIE_DLL_API int XPcie_DMA_Read(int fd, uint32_t addr, char *buffer, size_t size);\n\n/*-\n    Function name : XPcie_DMA_Write_Init\n    Description   : \u63a5\u6536\u901a\u9053\u521d\u59cb\u5316\n    Parameter\n    @ fd          : \u677f\u5361\u53f7\n    @ size        : DMA\u5927\u5c0f\n    * Return      : \u6210\u529f\u8fd4\u56de0\uff0c\u5426\u5219&lt;0\n    -*/\nXPCIE_DLL_API int XPcie_DMA_Write_Init(int fd, size_t size);\n\n/*-\n    Function name : XPcie_DMA_Write\n    Description   : \u53d1\u9001\u901a\u9053\u4f20\u8f93\u6570\u636e\n    Parameter\n    @ fd          : \u677f\u5361\u53f7\n    @ addr        : DDR\u5730\u5740(\u672a\u4f7f\u7528,\u53ef\u968f\u610f\u4f20)\n    @ buffer      : \u4e0b\u884c\u6570\u636e\u63a5\u6536\u7f13\u51b2\u533a\n    @ size        : DMA\u5927\u5c0f\n    * Return      : \u6210\u529f\u8fd4\u56de\u4f20\u8f93\u6570\u636e\u957f\u5ea6\uff0c\u5426\u5219&lt;0\n    -*/\nXPCIE_DLL_API int XPcie_DMA_Write(int fd, uint32_t addr, char *buffer, size_t size);\n\n/*-\n    \u672a\u4f7f\u7528\n    Function name : XPcie_Write_Reg\n    Description   : \u5199\u5bc4\u5b58\u5668\n    Parameter\n    @ fd          : \u677f\u5361\u53f7\n    @ addr        : \u5bc4\u5b58\u5668\u5730\u5740\n    @ value       : \u5199\u5165\u5bc4\u5b58\u5668\u7684\u503c\n    * Return      : \u6210\u529f\u8fd4\u56de0\uff0c\u5931\u8d25\u8fd4\u56de-1\n    -*/\nXPCIE_DLL_API int XPcie_Write_Reg(int fd, long addr, unsigned int value);\n\n/*-\n    \u672a\u4f7f\u7528\n    Function name : XPcie_Read_Reg\n    Description   : \u8bfb\u53d6\u5bc4\u5b58\u5668\n    Parameter\n    @ fd          : \u677f\u5361\u53f7\n    @ addr        : \u5bc4\u5b58\u5668\u5730\u5740\n    * Return      : \u6210\u529f\u8fd4\u56de\u5bc4\u5b58\u5668\u91cc\u7684\u503c\uff0c\u5931\u8d25\u8fd4\u56de-1\n    -*/\nXPCIE_DLL_API unsigned int XPcie_Read_Reg(int fd, long addr);\n\n/*-\n    Function name : XPcie_Reset_Device\n    Description   : FPGA\u590d\u4f4d\n    Parameter\n    @ fd          : \u677f\u5361\u53f7\n    * Return      :\n    -*/\nXPCIE_DLL_API void XPcie_Reset_Device(int fd);\n#ifdef __cplusplus\n}\n#endif  /* end of __cplusplus */\n</code></pre>"},{"location":"HILINUX/default-programs/","title":"\u7cfb\u7edf\u9ed8\u8ba4\u5b89\u88c5\u7684\u7a0b\u5e8f","text":"<pre><code>$ echo $PATH\n/usr/bin:/usr/sbin:/bin:/sbin\n</code></pre> <pre><code>$ /usr/bin\n[            clear        envdir       hd           lpq          nc           pscan        setkeycodes  strings      top          unxz         whois\n[[           cmp          envuidgid    head         lpr          nl           pstree       setsid       sum          tr           unzip        xargs\nawk          comm         expand       hexdump      lsof         nmeter       pwdx         setuidgid    sv           traceroute   uptime       xxd\nbasename     crontab      expr         hexedit      lspci        nohup        readlink     sha1sum      svc          traceroute6  users        xz\nbc           cryptpw      factor       hostid       lsscsi       nproc        realpath     sha256sum    svok         truncate     uudecode     xzcat\nbeep         cut          fallocate    id           lsusb        nslookup     renice       sha3sum      tac          tty          uuencode     yes\nblkdiscard   dc           fgconsole    install      lzcat        od           reset        sha512sum    tail         ttysize      vlock\nbunzip2      deallocvt    find         ipcrm        lzma         openvt       resize       showkey      taskset      udpsvd       volname\nbzcat        diff         flock        ipcs         lzopcat      passwd       rpm2cpio     shred        tcpsvd       unexpand     w\nbzip2        dirname      fold         iperf3       man          paste        runsv        shuf         tee          uniq         wall\ncal          dos2unix     free         killall      md5sum       patch        runsvdir     smemcap      telnet       unix2dos     wc\nchpst        du           ftpget       last         mesg         pgrep        rx           softlimit    test         unlink       wget\nchrt         dumpleases   ftpput       less         microcom     pkill        script       sort         tftp         unlzma       which\nchvt         eject        fuser        logger       mkfifo       pmap         seq          split        time         unlzop       who\ncksum        env          groups       logname      mkpasswd     printf       setfattr     ssl_client   timeout      unshare      whoami\n\n$ ls /usr/sbin\nadd-shell     chat          deluser       fbset         i2cdetect     inetd         nfsroot       powertop      remove-shell  svlogd\naddgroup      chpasswd      dhcprelay     fdformat      i2cdump       killall5      nologin       rdate         rtcwake       telnetd\nadduser       chroot        dnsd          fsfreeze      i2cget        loadfont      ntpd          rdev          sendmail      tftpd\narping        crond         ether-wake    ftpd          i2cset        lpd           partprobe     readahead     setfont       udhcpd\nbrctl         delgroup      fakeidentd    httpd         ifplugd       nbd-client    popmaildir    readprofile   setlogcons\n\n$ ls /bin\narch           cpio           ethtool        himd.l         linux64        mknod          pidof          rmdir          stty           vi\nash            cttyhack       false          himm           ln             mktemp         ping           rpm            su             watch\nbase64         date           fatattr        hostname       login          more           ping6          run-parts      sync           zcat\nbtools         dd             fdflush        hush           ls             mount          pipe_progress  scriptreplay   tar\nbusybox        df             fgrep          ionice         lzop           mountpoint     printenv       sed            touch\ncat            dmesg          fsync          iostat         makemime       mpstat         ps             setarch        true\nchgrp          dnsdomainname  getopt         ipcalc         mkdir          mt             pwd            setpriv        udevadm\nchmod          dumpkmap       grep           kbd_mode       mke2fs         mv             reformime      setserial      udevd\nchown          echo           gunzip         kill           mkfs.ext2      netstat        resume         sh             umount\nconspy         ed             gzip           link           mkfs.ext3      nice           rev            sleep          uname\ncp             egrep          himd           linux32        mkfs.ext4      nuke           rm             stat           usleep\n\n$ ls /sbin\nacpid              fdisk              ifconfig           ipneigh            makedevs           nameif             setconsole         tc\nadjtimex           findfs             ifdown             iproute            mdev               pivot_root         slattach           tunctl\narp                freeramdisk        ifenslave          iprule             mkdosfs            poweroff           start-stop-daemon  udhcpc\nblkid              fsck.minix         ifup               iptunnel           mke2fs             raidautorun        sulogin            uevent\nblockdev           fstrim             init               klogd              mkfs.minix         reboot             swapoff            vconfig\nbootchartd         getty              insmod             loadkmap           mkfs.vfat          rmmod              swapon             watchdog\ndepmod             halt               ip                 logread            mkswap             route              switch_root        zcip\ndevmem             hdparm             ipaddr             losetup            modinfo            run-init           sysctl\nfbsplash           hwclock            iplink             lsmod              modprobe           runlevel           syslogd\n</code></pre>"},{"location":"HILINUX/files/","title":"\u901a\u8fc7ftp\u4e0e\u7535\u8111\u4f20\u8f93\u6587\u4ef6","text":"<p>\u4f7f\u7528FTP\u534f\u8bae\u4f20\u8f93\u6587\u4ef6\u5373\u53ef\u3002</p>"},{"location":"HILINUX/files/#macosftp","title":"macOS\u5b89\u88c5ftp","text":"<pre><code>$ brew unlink telnet # \u5148\u5c06\u672c\u673a\u539f\u672c\u7684telnet\u53d6\u6d88\u94fe\u63a5\n$ brew install inetutils # \u518d\u5b89\u88c5\u6240\u6709\u7684\u7f51\u7edc\u5de5\u5177 \u5176\u4e2d\u5305\u542btelnet\u548cftp\n</code></pre> <p>\u7136\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u884c\u7684 <code>ftp</code> \u6765\u4f20\u8f93\u4e86</p>"},{"location":"HILINUX/files/#macos","title":"macOS\u5b89\u88c5\u53ef\u89c6\u5316\u5de5\u5177","text":"<p><code>App Store</code> \u641c\u7d22 <code>FTPRush</code>\uff0c\u4e0b\u8f7d\u5b89\u88c5\u3002</p> <p>\u6253\u5f00\u540e\u5728\u53f3\u4e0a\u89d2\u8f93\u5165 host\uff08<code>192.168.10.68</code>\uff09\u3001user\uff08<code>root</code>\uff09 \u5373\u53ef\u8fde\u63a5\uff0c\u4e4b\u540e\u4f7f\u7528\u62d6\u62fd\u4f20\u8f93\u6587\u4ef6\u5373\u53ef\u3002\u6ce8\u610f\u4f7f\u7528\u5237\u65b0\u6309\u94ae\u4f7f\u5e94\u7528\u5185\u5448\u73b0\u7684\u76ee\u5f55\u4e0e\u5b9e\u9645\u76f8\u7b26\u3002</p>"},{"location":"HILINUX/info/","title":"\u67e5\u770b\u7cfb\u7edf\u4fe1\u606f","text":"<pre><code>$ uname -a # \u67e5\u770b\u672c\u673a\u67b6\u6784\nLinux (none) 4.19.41 #1 SMP Tue Dec 14 16:52:41 CST 2021 aarch64 GNU/Linux\n</code></pre> <pre><code>$ cat /proc/cpuinfo # \u67e5\u770bCPU \u5171\u56db\u6838\nprocessor       : 0\nBogoMIPS        : 48.00\nFeatures        : fp asimd evtstrm aes pmull sha1 sha2 crc32 cpuid\nCPU implementer : 0x41\nCPU architecture: 8\nCPU variant     : 0x0\nCPU part        : 0xd03\nCPU revision    : 4\n\u2026\n</code></pre> <pre><code>$ cat /proc/meminfo # \u67e5\u770b\u5185\u5b58\nMemTotal:         494172 kB\nMemFree:          459152 kB\n</code></pre> <pre><code>$ df -h # \u67e5\u770b\u5b58\u50a8\uff08\u8fd9\u4e2a\u662f\u4e4b\u524d\u7684\u4e00\u4e2a\u677f\u5b50 \u65b0\u677f\u5b50\u5b58\u50a8\u80af\u5b9a\u662f\u591f\u7684\uff09\nFilesystem                Size      Used Available Use% Mounted on\n/dev/root                 5.7G      5.6G    107.5M  98% /\ndevtmpfs                239.1M         0    239.1M   0% /dev\ntmpfs                   241.3M         0    241.3M   0% /run\n</code></pre> <pre><code>$ ifconfig # \u67e5\u770b\u672c\u673a\u7f51\u7edc\u914d\u7f6e \u53ef\u4ee5\u770b\u5230eth0/eth1\u662f\u53ef\u4ee5\u8fde\u63a5\u7684\u4e24\u4e2a\u7f51\u53e3\neth0      Link encap:Ethernet  HWaddr 32:7A:FA:5C:ED:DE\n          inet addr:192.168.1.10  Bcast:192.168.1.255  Mask:255.255.255.0\n          inet6 addr: fe80::307a:faff:fe5c:edde/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:736 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:159 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:67170 (65.5 KiB)  TX bytes:20130 (19.6 KiB)\nInterrupt:41\neth1      Link encap:Ethernet  HWaddr 5E:ED:B7:1D:50:FB\n          inet addr:192.168.10.68  Bcast:192.168.10.255  Mask:255.255.255.0\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\nInterrupt:45\n</code></pre> <pre><code>$ echo $SHELL # \u67e5\u770b\u5f53\u524d\u4f7f\u7528\u7684shell\n/bin/sh\n</code></pre>"},{"location":"HILINUX/shell-profile/","title":"shell\u6dfb\u52a0profile","text":"<pre><code>vi /root/.profile\nsource /root/.profile\n</code></pre> <p>\u4ee5\u6dfb\u52a0 <code>alias</code> \u4e3a\u4f8b\uff1a</p> <pre><code>alias ll=\"ls -alFh\"\n</code></pre> <p>\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u3001\u521d\u59cb\u5316\u6307\u4ee4\u540c\u7406\u3002</p> <p>\u4e5f\u53ef\u4ee5\u4fee\u6539 <code>/etc/profile</code>\uff0c\u56e0\u4e3a\u53ea\u6709 <code>root</code> \u7528\u6237\uff0c\u4e0e\u4fee\u6539 <code>/root/.profile</code> \u662f\u6ca1\u6709\u533a\u522b\u7684\u3002</p>"},{"location":"MORE/glossary/","title":"\u8bcd\u6c47\u89e3\u91ca","text":""},{"location":"MORE/glossary/#nipc","title":"NIPC","text":""},{"location":"MORE/glossary/#nipc_1","title":"NIPC","text":"<p>Neighbourhood Image Parallel Computing / \u90bb\u57df\u56fe\u50cf\u5e76\u884c\u8ba1\u7b97</p>"},{"location":"MORE/glossary/#nipc-x","title":"NIPC-x","text":"<p>\u7b2cx\u4ee3\u90bb\u57df\u56fe\u50cf\u5e76\u884c\u5904\u7406\u673a</p>"},{"location":"MORE/glossary/#nipc-pcie703","title":"NIPC\u5f00\u53d1\u677f / PCIE703","text":"<p>\u57fa\u4e8e UltraScale FPGA + \u534e\u4e3a\u6d77\u601d ARM \u7684\u9ad8\u6027\u80fd\u7efc\u5408\u89c6\u9891\u56fe\u50cf\u5904\u7406\u5e73\u53f0</p> <p>PCIE703 \u662f\u5317\u4eac\u9752\u7ffc\u51cc\u4e91\u79d1\u6280\u6709\u9650\u516c\u53f8\u81ea\u4e3b\u7814\u5236\u7684\u4e00\u6b3e\u57fa\u4e8e PCIE \u603b\u7ebf\u67b6\u6784\u7684\u9ad8\u6027\u80fd\u7efc\u5408\u89c6\u9891\u56fe\u50cf\u5904\u7406\u5e73\u53f0\uff0c\u8be5\u5e73\u53f0\u91c7\u7528 Xilinx \u7684\u9ad8\u6027\u80fd Kintex UltraScale \u7cfb\u5217 FPGA \u52a0\u4e0a\u534e\u4e3a\u6d77\u601d\u7684\u9ad8\u6027\u80fd\u89c6\u9891\u5904\u7406\u5668\u6765\u5b9e\u73b0\u3002 -- PCIE703\u4ea7\u54c1\u4f7f\u7528\u8bf4\u660e\u4e66</p>"},{"location":"MORE/glossary/#hilinux","title":"HiLinux","text":""},{"location":"MORE/glossary/#hilinux_1","title":"HiLinux","text":"<p>\u534e\u4e3a\u6d77\u601d\u4e3a\u97f3\u89c6\u9891\u9ad8\u901f\u5904\u7406\u5b9a\u5236\u7684Linux\u64cd\u4f5c\u7cfb\u7edf</p>"},{"location":"MORE/glossary/#hi3531-hi3531dv200","title":"Hi3531 / Hi3531DV200","text":"<p>Hi3531D V200 \u662f\u9488\u5bf9\u591a\u8def\u9ad8\u6e05/\u8d85\u9ad8\u6e05\uff081080p/4M/5M/4K\uff09DVR\u4ea7\u54c1\u5e94\u7528\u5f00\u53d1\u7684\u65b0\u4e00\u4ee3\u4e13\u4e1aSoC\u82af\u7247\u3002 Hi3531D V200\u96c6\u6210\u4e86ARM A53\u56db\u6838\u5904\u7406\u5668\u548c\u6027\u80fd\u5f3a\u5927\u7684\u795e\u7ecf\u7f51\u7edc\u63a8\u7406\u5f15\u64ce\uff0c\u652f\u6301\u591a\u79cd\u667a\u80fd\u7b97\u6cd5\u5e94\u7528\u3002\u540c\u65f6\uff0cHi3531D V200\u8fd8\u96c6\u6210\u4e86\u591a\u8defMIPI D-PHY\u63a5\u53e3\u8f93\u5165\uff0c\u7a81\u7834\u4e86\u6570\u5b57\u63a5\u53e3\u7684\u89c6\u9891\u8f93\u5165\u6027\u80fd\u74f6\u9888\uff0c\u63d0\u4f9b\u4e24\u500d\u4e8e\u524d\u4ee3\u4ea7\u54c1\u7684\u89c6\u9891\u8f93\u5165\u80fd\u529b\u3002\u53e6\u5916\uff0cH.265\u89c6\u9891\u7f16\u89e3\u7801\u5f15\u64ce\u3001\u89c6\u9891\u56fe\u50cf\u5904\u7406\u7684\u7b97\u6cd5\u6548\u679c\u53ca\u6027\u80fd\u5f97\u5230\u4e86\u8fdb\u4e00\u6b65\u63d0\u5347\u3002\u7ed3\u5408\u4e30\u5bcc\u7684\u5916\u56f4\u8bbe\u5907\u53ca\u9ad8\u901f\u63a5\u53e3\uff0c\u8be5SoC\u82af\u7247\u4e3a\u5ba2\u6237\u4ea7\u54c1\u63d0\u4f9b\u4e86\u9ad8\u6027\u80fd\u3001\u4f18\u5f02\u56fe\u50cf\u8d28\u91cf\u7684\u6a21\u62df\u9ad8\u6e05DVR\u89e3\u51b3\u65b9\u6848\uff0c\u5e7f\u6cdb\u7528\u4e8e\u6a21\u62df\u9ad8\u6e05\u76d1\u63a7\u5e02\u573a\u548c\u8f66\u8f7dDVR\u5e02\u573a \u3002 -- https://www.hisilicon.com/cn/products/smart-vision/public-security/DVR/Hi3531DV200</p>"},{"location":"MORE/glossary/#arm-cortex-a53","title":"ARM Cortex-A53","text":"<p>Arm Cortex-A53 MPCore Processor</p> <p>The Arm Cortex-A processor series is designed for devices undertaking complex compute tasks, such as hosting a rich operating system platform and supporting multiple software applications. Built as a low-power processor with 64-bit capabilities, the Cortex-A53 processor is applicable in a range of devices requiring high performance in power-constrained environments. -- https://www.arm.com/en/products/silicon-ip-cpu/cortex-a/cortex-a53</p> <p>The Cortex-A53 processor is a mid-range, low-power processor that implements the Armv8-A architecture. The Cortex-A53 processor has one to four cores, each with an L1 memory system and a single shared L2 cache. -- DDI0500J_cortex_a53_trm.pdf Arm Cortex-A53 MPCore Processor Technical Reference Manual</p>"},{"location":"MORE/glossary/#fpga","title":"FPGA","text":""},{"location":"MORE/glossary/#fpga_1","title":"FPGA","text":"<p>Field Programmable Gate Array / \u73b0\u573a\u53ef\u7f16\u7a0b\u903b\u8f91\u95e8\u9635\u5217</p>"},{"location":"MORE/glossary/#xilinx-ultrascale","title":"Xilinx UltraScale","text":"<p>https://china.xilinx.com/products/silicon-devices/fpga/kintex-ultrascale.html#documentation</p> <p>Xilinx UltraScale architecture comprises high-performance FPGA, MPSoC, and RFSoC families that address a vast spectrum of system requirements with a focus on lowering total power consumption through numerous innovative technological advancements. --  ds890-ultrascale-overview.pdf UltraScale Architecture and Product Data Sheet: Overview by AMD Xilinx</p>"},{"location":"MORE/glossary/#kintex-ultrascale-fpgas","title":"Kintex UltraScale FPGAs","text":"<p>High-performance FPGAs with a focus on price/performance, using both monolithic and next-generation stacked silicon interconnect (SSI) technology. High DSP and block RAM-to-logic ratios and next-generation transceivers, combined with low-cost packaging, enable an optimum blend of capability and cost. -- ds890-ultrascale-overview.pdf UltraScale Architecture and Product Data Sheet: Overview by AMD Xilinx</p>"},{"location":"MORE/glossary/#ku060-xcku060-2ffva1517","title":"KU060 / XCKU060-2FFVA1517","text":"<p>-- ultrascale-fpga-product-selection-guide.pdf UltraScale FPGA Product Tables and Product Selection Guide P2</p>"},{"location":"MORE/glossary/#vivado","title":"Vivado","text":"<p>https://china.xilinx.com/products/design-tools/vivado.html</p>"},{"location":"MORE/glossary/#dma","title":"DMA","text":"<p>Direct memory access (DMA) is a feature of computer systems and allows certain hardware subsystems to access main system memory independently of the central processing unit (CPU). -- https://en.wikipedia.org/wiki/Direct_memory_access</p>"},{"location":"MORE/glossary/#video","title":"Video","text":""},{"location":"MORE/glossary/#sdi","title":"SDI","text":"<p>Serial Digital Interface / \u6570\u5b57\u5206\u91cf\u4e32\u884c\u63a5\u53e3</p> <ul> <li>SD-SDI</li> <li>HD-SDI 1080p30</li> <li>3G-SDI 1080p60</li> <li>6G-SDI</li> <li>12G-SDI</li> </ul>"},{"location":"MORE/glossary/#rf","title":"RF","text":"<p>radio-frequency / \u5c04\u9891</p>"},{"location":"MORE/glossary/#bnc","title":"BNC \u63a5\u5934","text":"<p>Bayonet Nut Connector</p> <p>BNC \u63a5\u5934\u662f\u76d1\u63a7\u5de5\u7a0b\u4e2d\u7528\u4e8e\u6444\u50cf\u8bbe\u5907\u8f93\u51fa\u65f6\u5bfc\u7ebf\u548c\u6444\u50cf\u673a\u7684\u8fde\u63a5\u5934\uff0c\u7531 RGB \u4e09\u539f\u8272\u4fe1\u53f7\u53ca\u884c\u540c\u6b65\u3001\u573a\u540c\u6b65\u4e94\u4e2a\u72ec\u7acb\u4fe1\u53f7\u63a5\u5934\u7ec4\u6210\u3002</p>"},{"location":"MORE/glossary/#sma","title":"SMA \u63a5\u53e3","text":"<p>SubMiniature version A</p> <p>SMA \u63a5\u53e3\u6709\u4e24\u79cd\u5f62\u5f0f\uff0c\u6807\u51c6\u7684 SMA \u662f\u4e00\u7aef\u201c\u5916\u87ba\u7eb9+\u5b54\u201d\uff0c\u53e6\u4e00\u7aef\u201c\u5185\u87ba\u7eb9+\u9488\u201d\uff1b\u53cd\u6781\u6027 RP-SMA \u662f\u4e00\u7aef\u201c\u5916\u87ba\u7eb9+\u9488\u201d\uff0c\u53e6\u4e00\u7aef\u4e3a\u201c\u5185\u87ba\u7eb9+\u5b54\u201d\u3002</p>"},{"location":"MORE/glossary/#hdmi","title":"HDMI","text":"<p>High Definition Multimedia Interface / \u9ad8\u6e05\u591a\u5a92\u4f53\u63a5\u53e3</p>"},{"location":"MORE/glossary/#protocols","title":"Protocols","text":""},{"location":"MORE/glossary/#spi","title":"SPI","text":"<p>Serial Peripheral Interface / \u4e32\u884c\u5916\u8bbe\u63a5\u53e3</p>"},{"location":"MORE/glossary/#pcie","title":"PCIe","text":"<p>PCI Express (Peripheral Component Interconnect Express), officially abbreviated as PCIe or PCI-e, is a high-speed serial computer expansion bus standard... It is the common motherboard interface for personal computers' graphics cards, hard disk drive host adapters, SSDs, Wi-Fi and Ethernet hardware connections. -- https://en.wikipedia.org/wiki/PCI_Express</p>"},{"location":"MORE/glossary/#http","title":"HTTP","text":"<p>Hyper Text Transfer Protocol / \u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae</p>"},{"location":"MORE/glossary/#others","title":"Others","text":""},{"location":"MORE/glossary/#ubuntu","title":"Ubuntu","text":"<p>https://ubuntu.com</p> <p>\u57fa\u4e8eLinux\u5185\u6838\u7684\u53d1\u884c\u7248\uff08\u76ee\u524d\u6700\u65b0\u7684\u7248\u672c\u4e3a Ubuntu 22.04.1 LTS\uff09</p>"},{"location":"MORE/glossary/#ubuntu-lts","title":"Ubuntu LTS","text":"<p>Ubuntu\u64cd\u4f5c\u7cfb\u7edf\u957f\u671f\u652f\u6301\u7684\u7248\u672c\uff08LTS - Long Time Support\uff09</p>"},{"location":"MORE/research-development/","title":"\u79d1\u7814\u6210\u679c\u53d1\u5c55","text":"<p>\u79d1\u6280\u6210\u679c\u53d1\u5c55\u7684\u4e00\u822c\u601d\u8def\uff1a\u5b9e\u9a8c\u5ba4\u9a8c\u8bc1 - \u8bba\u6587\u53d1\u8868 - \u9274\u5b9a\u4f1a - \u5546\u7528</p> <ul> <li>\u5b9e\u9a8c\u5ba4\u9a8c\u8bc1<ul> <li>\u6838\u5fc3\uff1a\u63d0\u5347\u5f00\u53d1\u6548\u7387\uff0c\u5c06\u4ea7\u54c1\u505a\u51fa\u6765</li> <li>\u9636\u6bb5\uff1a<ul> <li>HiLinux\u53d1\u9001\u56fe\u7247\u5230FPGA\uff0cFPGA\u53d6\u53cd\u8fd4\u56de\u7ed9HiLinux</li> <li>PC\u53d1\u9001\u56fe\u7247\u5230HiLinux\uff0cHiLinux\u4ea4\u7531FPGA\u53d6\u53cd\u540e\u8fd4\u56de\u7ed9PC</li> <li>HiLinux\u5b9e\u65f6\uff0830fps\uff09\u53d1\u9001\u56fe\u7247\u5230FPGA\uff0cFPGA\u53d6\u53cd\u540e\u8fd4\u56de\u7ed9HiLinux</li> <li>PC\u5b9e\u65f6\uff0830fps\uff09\u53d1\u9001\u56fe\u7247\u5230HiLinux\uff0cHiLinux\u4ea4\u7531FPGA\u53d6\u53cd\u540e\u8fd4\u56de\u7ed9PC</li> <li>\u5b8c\u6210YOROv3\u7b97\u6cd5\u7684FPGA\u5b9e\u73b0</li> </ul> </li> </ul> </li> <li>\u8bba\u6587\u53d1\u8868<ul> <li>\u6838\u5fc3\uff1a\u4e0d\u65ad\u8fdb\u884c\u6027\u80fd\u4f18\u5316\u8fed\u4ee3\uff0c\u8fbe\u5230\u65e2\u5b9a\u7684\u6307\u6807</li> <li>\u9636\u6bb5\uff1a<ul> <li>\u7cfb\u7edf\u5b9e\u65f6\u6027\u7684\u8981\u6c42</li> <li>FPGA\u7b97\u6cd5\u5355\u6b21\u6267\u884c\u65f6\u95f4\u7684\u63d0\u5347</li> </ul> </li> </ul> </li> <li>\u9274\u5b9a\u4f1a<ul> <li>\u6838\u5fc3\uff1a\u9700\u8981\u5728\u5df2\u6709\u7684\u9ad8\u6027\u80fd\u6307\u6807\u4e0b\u505a\u5c55\u793a</li> <li>\u9636\u6bb5\uff1a<ul> <li>\u5e03\u7f6e\u3001\u642d\u5efa\u5c55\u793a\u6240\u7528\u7684\u573a\u666f</li> <li>\u51c6\u5907\u6750\u6599\u4e0e\u6d77\u62a5</li> </ul> </li> </ul> </li> <li>\u5546\u7528<ul> <li>\u9700\u8981\u8003\u8651\u5b9e\u9645\u7684\u5e94\u7528\u573a\u666f</li> </ul> </li> </ul>"},{"location":"NIPC/connect-network/","title":"\u5f00\u53d1\u677f\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u7535\u8111","text":""},{"location":"NIPC/connect-network/#_2","title":"\u6709\u7ebf","text":"<p>\u677f\u5361ARM\u7aef\u6709\u4e24\u4e2a\u63a5\u53e3\uff0c\u9ed8\u8ba4 IP \u5982\u4e0b\uff1a</p> <p></p>"},{"location":"NIPC/connect-network/#macos","title":"macOS","text":"<p>\u9700\u8981\u4f7f\u7528\u7535\u8111\u8fde\u63a5\uff0c\u5219\u9700\u8981\u5148\u901a\u8fc7\u7f51\u7ebf\u5c06\u677f\u5361\u548c\u7535\u8111\u8fde\u63a5\u5230\u4e00\u8d77\uff1b\u7136\u540e\u5728\u7535\u8111\u4e2d\u8bbe\u7f6eIP\u5730\u5740\u4e3a\u540c\u4e00\u7f51\u6bb5\uff0c\u5982 <code>192.168.1.123</code> \u6216 <code>192.168.10.123</code>\uff0c\u5b50\u7f51\u63a9\u7801 <code>255.255.255.0</code>\uff1a</p> <p></p> <p>\u70b9\u51fb\u53f3\u4e0b\u89d2 <code>Apply</code>\u3002</p>"},{"location":"NIPC/connect-network/#windows","title":"Windows","text":"<p>\u6253\u5f00 <code>\u8bbe\u7f6e &gt; Network &amp; Internet &gt; Change adapter options</code>\uff0c\u6253\u5f00\u4e4b\u540e\u9009\u62e9\u5bf9\u5e94\u7684\u7f51\u53e3\uff0c\u53cc\u51fb\u3002</p> <p>\u6253\u5f00 <code>Properties</code>\uff0c\u53cc\u51fb <code>Internet Protocol Version 4 (TCP/IPv4)</code>\u3002\u5728 <code>General</code> \u4e0b\u9009\u62e9 <code>Use the following IP address</code>\uff0c\u586b\u5199\u5373\u53ef\u3002</p> <p></p> <p>\u70b9\u51fb\u53f3\u4e0b\u89d2 <code>OK</code>\u3002</p> <p>\u7136\u540e\u4f7f\u7528telnet\u8fde\u63a5\u5373\u53ef\uff1a</p> <p></p>"},{"location":"NIPC/connect-network/#_3","title":"\u65e0\u7ebf","text":"<p>\u5f53\u6709\u4e24\u4e2a\u53ca\u4ee5\u4e0a\u7684\u677f\u5b50\uff0c\u4f7f\u7528\u4e00\u4e2a\u65e0\u7ebf\u8def\u7531\u5668\u4f1a\u66f4\u7701\u4e8b\u513f\u3002</p> <p>\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u5c0f\u7c73\u65e0\u7ebf\u8def\u7531\u5668\uff0c\u63d2\u4e0a\u7535\u6e90\u540e\u6d4f\u89c8\u5668\u6253\u5f00 mifiwi.com (192.168.31.1)\uff0c\u7136\u540e\u53ef\u4ee5\u8fdb\u884c\u521d\u59cb\u5316\u3002\u521d\u59cb\u5316\u7ed3\u675f\u540e\uff0c\u63d2\u5165\u6821\u56ed\u7f51\u7684\u7f51\u7ebf\uff0c\u7535\u8111\u5373\u53ef\u4e0a\u7f51\u3002</p> <p>\u8981\u8fde\u63a5\u677f\u5b50\uff0c\u9700\u8981\u5c06 IP \u5730\u5740\u8bbe\u7f6e\u4e3a\u540c\u4e00\u7f51\u6bb5\u3002\u8fd9\u91cc\u4e24\u4e2a\u677f\u9760\u8fd1 Type-C \u7684\u7f51\u53e3\u90fd\u8bbe\u7f6e\u4e3a 192.168.1.68\uff0c\u65b9\u4fbf\u6709\u7ebf\u8c03\u8bd5\uff1b\u7b2c\u4e00\u4e2a\u677f\u9760\u8fd1 HDMI \u7684\u53e3\u4f7f\u7528 192.168.31.100\uff0c\u7b2c\u4e8c\u4e2a\u9760\u8fd1 HDMI \u7684\u7f51\u53e3\u8bbe\u7f6e\u4e3a 192.168.31.101\uff0c\u8fd9\u4e24\u4e2a\u7f51\u53e3\u901a\u8fc7\u7f51\u7ebf\u8fde\u63a5\u81f3\u8def\u7531\u5668\u3002</p> <p>\u8fd9\u65f6\u5728\u7535\u8111\u4e0a\u5c31\u53ef\u4ee5\u76f4\u63a5\u65e0\u7ebf\u8bbf\u95ee 192.168.31.100 \u548c 192.168.31.101 \u6765\u8bbf\u95ee\u677f\u5b50\u4e86\u3002</p> <p>\u6ce8\uff1a\u5982\u679c\u8981\u8ba9\u677f\u5b50\u4e5f\u8fde\u63a5\u5916\u7f51\uff0c\u5e94\u8be5\u8981\u914d\u7f6e DNS\u3001\u8f6c\u53d1\u89c4\u5219\u7b49\u3002</p>"},{"location":"PROJECT-TRACKING/blkmem-calculator/","title":"\u5b58\u50a8\u4e0e\u8ba1\u7b97\u7684\u6a21\u5757\u8fde\u63a5","text":""},{"location":"PROJECT-TRACKING/blkmem-calculator/#_2","title":"\u5b58\u50a8\u6a21\u5757","text":""},{"location":"PROJECT-TRACKING/blkmem-calculator/#_3","title":"\u53ea\u8bfb","text":"<ul> <li>\u5728 T0 \u8f93\u5165 <code>dout_addr</code>\uff0c\u5728 T1 \u8f93\u51fa <code>dout</code>\u3002</li> </ul> <pre><code>input  wire clk,\ninput  wire [DOUT_ADDR_WIDTH-1:0] dout_addr,\noutput wire [DOUT_WIDTH-1:0] dout\n</code></pre>"},{"location":"PROJECT-TRACKING/blkmem-calculator/#ab","title":"A\u5199B\u8bfb","text":"<ul> <li>\u5199<ul> <li>\u8f93\u5165 <code>din_valid</code> \u4e3a 1 \u65f6\u540c\u5468\u671f\u8f93\u5165 <code>din</code>\uff0c\u9ed8\u8ba4\u987a\u5e8f\u8bfb\u5199\uff0c\u4ece\u96f6\u5f00\u59cb\u52a0\u52a0\u3002</li> </ul> </li> <li><code>complete</code> \u8868\u793a blkmem \u5df2\u7ecf\u5b58\u6ee1\u6570\u636e\uff0c\u80fd\u591f\u8fdb\u884c\u4e0b\u4e00\u6b65\u7684\u64cd\u4f5c\uff08\u8bfb\u51fa\u6570\u636e\uff09\u4e86\u3002</li> <li>\u8bfb<ul> <li>\u5728 T0 \u8f93\u5165 <code>dout_addr</code>\uff0c\u5728 T1 \u8f93\u51fa <code>dout</code>\u3002</li> </ul> </li> </ul> <pre><code>input  wire clk,\ninput  wire rst,\ninput  wire din_valid,\ninput  wire [DIN_WIDTH-1:0] din,\noutput wire complete,\ninput  wire [DOUT_ADDR_WIDTH-1:0] dout_addr,\noutput wire [DOUT_WIDTH-1:0] dout\n</code></pre>"},{"location":"PROJECT-TRACKING/blkmem-calculator/#_4","title":"\u8ba1\u7b97\u6a21\u5757","text":"<ul> <li>\u8ba1\u7b97\u6a21\u5757\u7684\u6570\u636e\u4ece\u4e00\u4e2a\u5b58\u50a8\u6a21\u5757\u800c\u6765\uff0c\u7531\u8ba1\u7b97\u6a21\u5757\u7ed9\u51fa <code>blkmem_din_addr</code> \u8f93\u5165\u5230\u5b58\u50a8\u6a21\u5757\uff0c\u5b58\u50a8\u6a21\u5757\u5728\u4e0b\u4e00\u4e2a\u5468\u671f\u7ed9\u51fa <code>blkmem_din</code>\u3002</li> <li>\u7ed9\u51fa\u8ba1\u7b97\u7ed3\u679c\u65f6\uff0c\u9700\u8981\u5b58\u5165\u4e00\u4e2a\u5b58\u50a8\u6a21\u5757\uff0c\u5728 <code>dout</code> \u6709\u503c\u7684\u65f6\u5019\u7f6e <code>dout_valid</code> \u4e3a 1 \u987a\u5e8f\u5199\u5165\u53e6\u4e00\u4e2a\u5b58\u50a8\u6a21\u5757\u3002</li> </ul> <pre><code>input  wire clk,\ninput  wire rst,\ninput  wire start,\noutput wire [DIN_ADDR_WIDTH-1:0] blkmem_din_addr,\ninput  wire [DIN_WIDTH-1:0] blkmem_din,\noutput wire dout_valid,\noutput wire [DOUT_WIDTH-1:0] dout\n</code></pre>"},{"location":"PROJECT-TRACKING/procedure/","title":"\u6d41\u7a0b","text":""},{"location":"PROJECT-TRACKING/procedure/#hilinux-fpga","title":"HiLinux \u548c FPGA \u7684\u6570\u636e\u4ea4\u4e92","text":""},{"location":"PROJECT-TRACKING/procedure/#init","title":"init \u9636\u6bb5","text":"HiLinux FPGA RW[0] \u5199 1 \u518d\u5199 0 \u91cd\u7f6e\u6240\u6709\u4fe1\u53f7  \u51c6\u5907\u5f00\u59cb\u4e00\u5e27\u7684\u5904\u7406 RW[1] \u5199 0 RW[2] \u5199 xc yc WriteMemory \u9996\u5e27 320x240 \u5199\u6ee1\u4e4b\u540e\u5f00\u59cb\u5904\u7406 \u5904\u7406\u7ed3\u675f\uff08\u5199 Blkmem_ab\uff09 R[0] \u5199 1 \u7b49\u5f85\u76f4\u5230 R[0] \u4e3a 1"},{"location":"PROJECT-TRACKING/procedure/#update","title":"update \u9636\u6bb5","text":"HiLinux FPGA RW[0] \u5199 1 \u518d\u5199 0 \u91cd\u7f6e\u6240\u6709\u4fe1\u53f7  \u51c6\u5907\u5f00\u59cb\u4e00\u5e27\u7684\u5904\u7406 RW[1] \u5199 1 WriteMemory \u4e00\u5e27 320x240 \u5199\u6ee1\u4e4b\u540e\u5f00\u59cb\u5904\u7406 \u5904\u7406\u7ed3\u675f\uff08\u5199 Blkmem_ab  R[1] \u5199 xc yc\uff09 R[0] \u5199 1 \u5982\u679c\u56fe\u7247\u5904\u7406\u5b8c\u6bd5 break \u7b49\u5f85\u76f4\u5230 R[0] \u4e3a 1 \u8bfb R[1] \u5f97\u5230 xc yc"},{"location":"PROJECT-TRACKING/procedure/#fpga","title":"FPGA \u7b97\u6cd5\u786c\u4ef6\u5b9e\u73b0","text":""},{"location":"PROJECT-TRACKING/procedure/#init_1","title":"init","text":"<ul> <li>\u3010rx\u3011\u4f20\u5165 320x240 \u7070\u5ea6 8 bit \u7684 frame</li> <li>\u3010cropfft\u3011\u4f7f\u7528 xc, yc \u62ff\u5230\u5c3a\u5bf8\u4e3a w, h \u7684 f\uff1bf = f - 0.5\uff1bf = f \u00b7 window\uff1bF = FFT(f)</li> <li>\\(A = K \u00b7 F^*\\)\uff0c\\(B = F \u00b7 F^*\\)</li> </ul>"},{"location":"PROJECT-TRACKING/procedure/#update_1","title":"update","text":"<ul> <li>\u3010rx\u3011\u4f20\u5165 320x240 \u7070\u5ea6 8 bit \u7684 frame</li> <li>\u8ba1\u7b97\u504f\u79fb<ul> <li>\u3010cropfft\u3011\u4f7f\u7528 xc, yc \u62ff\u5230\u5c3a\u5bf8\u4e3a w, h \u7684 f\uff1bf = f - 0.5\uff1bf = f \u00b7 window\uff1bF = FFT(f)</li> <li>\u3010h\u3011H = A / B\uff08\u4e0e cropfft \u5e76\u884c\uff09</li> <li>\u3010g\u3011G = F \u00b7 H</li> <li>\u3010ifftreal\u3011g = real(IFFT(G))</li> <li>\u3010argmax\u3011\u627e\u5230 g \u4e2d\u6700\u5927\u503c\u7684\u5750\u6807\u3001\u5f97\u5230\u4e24\u5e27\u95f4\u7684\u504f\u79fb\u91cf\u66f4\u65b0 xc, yc</li> </ul> </li> <li>\u66f4\u65b0\u72b6\u6001<ul> <li>\u3010cropfft\u3011\u4f7f\u7528\u65b0\u7684 xc, yc \u62ff\u5230\u5c3a\u5bf8\u4e3a w, h \u7684 f\uff1bf = f - 0.5\uff1bf = f \u00b7 window\uff1bF = FFT(f)</li> <li>\\(A = \\eta\\ (K \u00b7 F^*) + (1 - \\eta)\\ A\\)\uff0c\\(B = \\eta\\ (F \u00b7 F^*) + (1 - \\eta)\\ B\\)</li> </ul> </li> </ul>"},{"location":"PROJECT-TRACKING/regs/","title":"\u5bc4\u5b58\u5668\u5b9a\u4e49","text":"<ul> <li>RW[0]<ul> <li>\u5199 1 \u518d\u5199 0\uff1a\u6240\u6709\u4fe1\u53f7 rst</li> </ul> </li> <li>RW[1]<ul> <li>0\uff1ainit \u9636\u6bb5</li> <li>1\uff1aupdate \u9636\u6bb5</li> </ul> </li> <li>RW[2]<ul> <li>init \u9636\u6bb5\u9996\u5e27\u4e2d\u6846\u7684\u4e2d\u5fc3\uff08\u4f4e 16 \u4f4d xc\uff0c\u9ad8 16 \u4f4d yc\uff09</li> </ul> </li> <li>R[0]<ul> <li>1\uff1aFPGA \u5bf9\u4e00\u5e27\u7684\u5904\u7406\u7ed3\u675f\uff0crst \u65f6\u521d\u503c\u4e3a 0</li> </ul> </li> <li>R[1]<ul> <li>FPGA \u7b97\u51fa\u7684 xc yc\uff08\u4f4e 16 \u4f4d xc\uff0c\u9ad8 16 \u4f4d yc\uff09</li> </ul> </li> </ul>"},{"location":"PROJECT-TRACKING/variables/","title":"\u53d8\u91cf\u6c47\u603b","text":""},{"location":"PROJECT-TRACKING/variables/#_2","title":"\u5e38\u91cf","text":"<p>\u53ea\u8d4b\u503c\u4e00\u6b21</p> <ul> <li>W, H = 320, 240<ul> <li>\u89c6\u9891\u5e27\u7684\u5927\u5c0f</li> </ul> </li> <li>w, h = 32, 32<ul> <li>\u6846\u7684\u5927\u5c0f</li> </ul> </li> <li>xc0, yc0 = 285, 181<ul> <li>\u9996\u5e27\u7269\u4f53\u7684\u4e2d\u5fc3\u4f4d\u7f6e</li> </ul> </li> <li>eta = 0.125<ul> <li>\u5728\u7ebf\u5b66\u4e60\u7387</li> </ul> </li> <li>sigma = 2.0<ul> <li>\u9ad8\u65af\u5206\u5e03\u53c2\u6570</li> </ul> </li> <li>Kernel<ul> <li>\u5c3a\u5bf8\u4e3a w, h \u7684\u9891\u57df Gauss\uff08\u901a\u8fc7 Python \u751f\u6210 Verilog \u4ee3\u7801\uff09</li> </ul> </li> <li>window<ul> <li>\u5c3a\u5bf8\u4e3a w, h \u7684\u65f6\u57df Hanning \u7a97\uff08\u901a\u8fc7 Python \u751f\u6210 Verilog \u4ee3\u7801\uff09</li> </ul> </li> </ul>"},{"location":"PROJECT-TRACKING/variables/#_3","title":"\u72b6\u6001","text":"<p>\u4e0d\u540c\u5e27\u4e4b\u95f4\u8981\u4fdd\u5b58</p> <ul> <li>A, B<ul> <li>\u5c3a\u5bf8\u4e3a w, h \u7684\u9891\u57df\u4e2d\u95f4\u7ed3\u679c</li> </ul> </li> <li>xc, yc<ul> <li>\u5f53\u524d\u5e27\u7269\u4f53\u7684\u4e2d\u5fc3\u4f4d\u7f6e</li> </ul> </li> </ul>"},{"location":"PROJECT-TRACKING/variables/#_4","title":"\u4e34\u65f6\u91cf","text":"<ul> <li>f F<ul> <li>\u5c3a\u5bf8\u4e3a w, h \u7684\u6846\u4e2d\u7684\u56fe\u50cf</li> </ul> </li> <li>H<ul> <li>A / B \u7684\u7ed3\u679c</li> </ul> </li> <li>G g<ul> <li>\u7528\u5339\u914d\u6838 H \u5bf9 F \u4f5c\u7528\u5f97\u5230\u7684\u9ad8\u65af\u5206\u5e03  \u53ef\u4ee5\u786e\u5b9a\u5f53\u524d\u5e27\u4e2d\u7684\u7269\u4f53\u76f8\u5bf9\u4e8e\u4e0a\u5e27\u7684\u504f\u79fb</li> </ul> </li> </ul>"},{"location":"PROJECT-TRACKING/verilog-name/","title":"Verilog \u547d\u540d\u89c4\u5219","text":"<ul> <li>IP: IP_module</li> <li>module: My_module<ul> <li>\u5b58\u50a8\u6a21\u5757\uff1aBlkmem_module</li> <li>\u8ba1\u7b97\u6a21\u5757\uff1aCalc_module</li> </ul> </li> <li>parameter: MY_PARAMETER</li> <li>signal: my_signal</li> </ul>"},{"location":"PROJECTS/image-through/","title":"\u56fe\u50cf+\u76f4\u901a","text":"<p>\u8fd9\u4e2a\u5de5\u7a0b\u5b9e\u73b0\u4ece PC \u4f20\u9012\u6570\u636e\u5230 HiLinux \u518d\u5230 FPGA\uff0c\u5e76\u5c06\u6570\u636e\u76f4\u63a5\u4f20\u56de\u3002</p> <p>\u5177\u4f53\u6765\u8bf4\uff0c\u8fd9\u91cc\u6570\u636e\u6307\u7684\u662f\u4e00\u5f20 PNG \u56fe\u7247\u3002</p> <p>\u8bf7\u67e5\u770b https://github.com/NIPC-Project/nipc-image-through\uff0cREADME \u91cc\u9762\u5bf9\u6574\u4e2a\u6d41\u7a0b\u548c\u76f8\u5173\u914d\u7f6e\u5199\u7684\u6bd4\u8f83\u6e05\u695a\u3002</p> <p>Bilibili \u8bb2\u89e3\u89c6\u9891\uff1ahttps://www.bilibili.com/video/BV1kK411i7Cb/</p>"},{"location":"PROJECTS/image-yolo/","title":"\u56fe\u50cf+YOLO","text":"<p>\u8be5\u9879\u76ee\u7684\u76ee\u7684\u662f\u4ece\u7528\u6237\u7684\u7535\u8111\u4e0a\u8bfb\u53d6\u4e00\u5f20\u56fe\u7247\uff0c\u5c06\u5176\u901a\u8fc7\u7f51\u7edc\u4f20\u8f93\u81f3 HiLinux\uff0cHiLinux \u8fdb\u4e00\u6b65\u5c06\u6570\u636e\u548c\u6307\u4ee4\u4f20\u5230 FPGA\uff0cFPGA \u6267\u884c YOLOv3 \u7b97\u6cd5\uff0c\u5c06\u5f97\u5230\u8bc6\u522b\u7ed3\u679c\u4f20\u56de HiLinux\uff0c\u518d\u901a\u8fc7\u7f51\u7edc\u4f20\u56de\u7528\u6237\u7535\u8111\uff0c\u6700\u7ec8\u5728\u7528\u6237\u7535\u8111\u4e0a\u5448\u73b0\u8bc6\u522b\u7ed3\u679c\u3002</p>"},{"location":"PROJECTS/image-yolo/#_1","title":"\u6574\u4f53\u67b6\u6784","text":""},{"location":"PROJECTS/image-yolo/#hilinuxfpga","title":"HiLinux/FPGA \u5e38\u9a7b\u7a0b\u5e8f","text":"<ul> <li>FPGA \u968f\u65f6\u5904\u4e8e\u5c31\u7eea\u72b6\u6001\uff0c\u80fd\u591f\u968f\u65f6\u6267\u884c YOLOv3 \u7b97\u6cd5<ul> <li>\u5148\u4f7f\u7528 Vivado Program Device \u70e7\u5f55\u8bbe\u5907</li> <li>\u518d <code>reboot</code> HiLinux</li> </ul> </li> <li>HiLinux \u5f00\u542f\u4e00\u4e2a HTTP server\uff0c\u76d1\u542c PC \u4f20\u8f93\u56fe\u7247\u6570\u636e<ul> <li>\u6ce8\uff1a\u9700\u8981\u5148\u52a0\u8f7d xdma \u5185\u6838\u624d\u80fd\u8c03\u7528 xdma \u7684\u5e93\u2014\u2014<code>insmod xdma.ko</code></li> </ul> </li> </ul>"},{"location":"PROJECTS/image-yolo/#_2","title":"\u6574\u4f53\u7f51\u7edc\u4f20\u8f93","text":"<ol> <li>PC \u4ece\u6587\u4ef6\u7cfb\u7edf\u4e2d\u8bfb\u53d6\u4e00\u5f20\u56fe\u7247(JPEG/PNG)\u5230\u5185\u5b58\uff0c\u8bb0\u5f55\u56fe\u7247\u5c3a\u5bf8(HxW)</li> <li>PC \u5c06\u56fe\u7247\u6570\u636e\u8f6c\u4e3a 608x608 RGB8 \u7684\u50cf\u7d20\u6570\u7ec4<ol> <li>\u5c06\u957f\u7684\u4e00\u8fb9\u62c9\u4f38\u4e3a608\uff0c\u53e6\u4e00\u8fb9\u7b49\u6bd4\u4f8b\u7f29\u653e</li> <li>\u518d\u5c06\u4e0d\u8db3608\u7684\u8fb9\u5de6\u53f3/\u4e0a\u4e0b\u5bf9\u79f0\u6dfb\u52a0\u9ed1\u8fb9</li> </ol> </li> <li>PC \u4f7f\u7528 PNG\u683c\u5f0f \u65e0\u635f\u538b\u7f29\u50cf\u7d20\u6570\u7ec4(608x608 RGB8)\u5f97\u5230 PNG\u6587\u4ef6</li> <li>PC \u901a\u8fc7 HTTP(JSON) \u4f20\u8f93 PNG\u6587\u4ef6 \u7684 base64\u7f16\u7801</li> <li>HiLinux \u5bf9 PNG\u6587\u4ef6 \u7684 base64\u7f16\u7801 \u89e3\u7801\u5f97\u5230\u50cf\u7d20\u6570\u7ec4</li> <li>HiLinux \u5c06\u50cf\u7d20\u6570\u7ec4\u901a\u8fc7 PCIE \u4f20\u8f93\u5230 FPGA \u4e2d</li> <li>FPGA \u6267\u884c YOLOv3\u7b97\u6cd5</li> <li>HiLinux \u901a\u8fc7 PCIE \u53d6\u56de FPGA \u7b97\u6cd5\u6267\u884c\u7ed3\u679c</li> <li>HiLinux \u5c06\u6267\u884c\u7ed3\u679c\u901a\u8fc7 HTTP(JSON) \u4f20\u56de PC</li> <li>PC \u5c06\u8bc6\u522b\u7ed3\u679c\u62c9\u4f38\u5230\u539f\u56fe\u7247\u5c3a\u5bf8(HxW)</li> <li>PC \u5728\u50cf\u7d20\u6570\u7ec4(HxW)\u4e0a\u6846\u51fa\u8bc6\u522b\u7684\u7269\u4f53\uff0c\u5e76\u5c06\u5176\u5448\u73b0\u5728\u5c4f\u5e55</li> <li>PC \u5c06\u50cf\u7d20\u6570\u7ec4(HxW)\u751f\u6210 PNG\u6587\u4ef6 \u4fdd\u5b58\u5230\u6587\u4ef6\u7cfb\u7edf</li> </ol>"},{"location":"PROJECTS/image-yolo/#_3","title":"\u7ed3\u6784\u4f53\u5b9a\u4e49","text":""},{"location":"PROJECTS/image-yolo/#png","title":"PNG\u56fe\u7247","text":"<p>\u4f7f\u7528 PNG \u6807\u51c6\u751f\u6210\u7684\u56fe\u7247\uff0c\u4e0d\u4f7f\u7528 interlace\u3002</p>"},{"location":"PROJECTS/image-yolo/#_4","title":"\u50cf\u7d20\u6570\u7ec4","text":"<p>\u5bbd 608 \u9ad8 608 \u7684\u56fe\u7247\uff0c\u5171\u6709 <code>608x608</code> \u4e2a\u50cf\u7d20\uff0c\u4e00\u7ef4\u50cf\u7d20\u6570\u7ec4\u7684\u957f\u5ea6\u4e3a <code>608x608x3</code>\uff0c\u4f9d\u6b21\u6309\u884c\u626b\u63cf\u5b58\u50a8 R \u5206\u91cf\u3001G \u5206\u91cf\u3001B \u5206\u91cf\u77e9\u9635\u3002</p> <p>\u6ce8\uff1a<code>Python - bytes</code> <code>C - char[]</code></p>"},{"location":"PROJECTS/image-yolo/#_5","title":"\u8bc6\u522b\u7ed3\u679c","text":"<pre><code>struct RecognitionResult {\ncount: uint32 // \u8bc6\u522b\u7ed3\u679c\u7684\u6570\u91cf\nitems: [Item] // \u8bc6\u522b\u51fa\u7684\u7269\u4f53\u7684\u6570\u7ec4\n}\n\nstruct Item {\ntop_left_x: uint32\ntop_left_y: uint32\nwidth: uint32\nheight: uint32\nlabel: char[32]\n}\n</code></pre>"},{"location":"PROJECTS/video-algorithm-edge/","title":"\u89c6\u9891+\u8fb9\u7f18\u68c0\u6d4b","text":""},{"location":"PROJECTS/video-algorithm-edge/#_2","title":"\u76f8\u5173\u94fe\u63a5","text":"<ul> <li>Bilibili \u8bb2\u89e3\u89c6\u9891\uff08\u6700\u65b0\u7248\u672c\uff09</li> <li>\u7b97\u6cd5\u4eff\u771f Python+OpenCV</li> <li>Vivado \u5de5\u7a0b\u6587\u4ef6\u5939</li> <li>HiLinux \u7aef\u670d\u52a1\u5668 Python+ctypes</li> <li>PC \u5ba2\u6237\u7aef Flutter</li> </ul> <p>Bilibili \u8bb2\u89e3\u89c6\u9891\uff08\u65e7\u7248 \u5df2\u5f52\u6863\uff09</p>"},{"location":"PROJECTS/video-algorithm-edge/#_3","title":"\u6570\u636e\u6d41","text":"<pre><code>flowchart LR\n    Camera[\u6444\u50cf\u5934] -- \u89c6\u9891\u6d41\u8f93\u5165\\nBT1120_1080P_25Hz --&gt; FPGA{FPGA\\n\u53d6\u7070\u5ea6\u56fe\\n\u505a\u8fb9\u7f18\u68c0\u6d4b\u7b97\u6cd5}\n    FPGA -- AxiMM\\n\u5355\u5e27\u56fe\u7247 2048x1080 bits --&gt; ARM{ARM\\n\u5355\u5e27\u8f6c\u4e3a 1920x1080 PNG} -- TCP \u4f20 PNG --&gt; PC{PC} -- Flutter --&gt; Display[\u5c4f\u5e55]</code></pre>"},{"location":"PROJECTS/video-algorithm-tracking/","title":"\u89c6\u9891+\u8ddf\u8e2a","text":""},{"location":"PROJECTS/video-algorithm-tracking/#_2","title":"\u6570\u636e\u7ed3\u6784","text":""},{"location":"PROJECTS/video-algorithm-tracking/#nipc-5","title":"\u56fa\u5b9a\u573a\u666f\u4e0b\u5355\u76ee\u6807\u5b9e\u65f6\u8ddf\u8e2a\u7b97\u6cd5\u5728 NIPC-5 \u5f00\u53d1\u677f\u4e0a\u7684\u5b9e\u73b0","text":""},{"location":"PROJECTS/video-algorithm-tracking/#_3","title":"\u56fa\u5b9a\u573a\u666f\u4e0b\u5355\u4e2a\u8fd0\u52a8\u7269\u4f53\u7684\u5b9e\u65f6\u8ddf\u8e2a","text":"<pre><code>struct Frame {\n  // \u53ea\u4f7f\u7528\u7070\u5ea6\u8fdb\u884c\u8ba1\u7b97\n  var data: FixedLengthArray&lt;Byte&gt;(1080*1920)\n}\n\nstruct Object {\n  var position: Position\n  // \u53ea\u8bb0\u5f55\u7269\u4f53\u7684\u4e2d\u5fc3\u4f4d\u7f6e\n  struct Position {\n    var x: Uint // [0, 1080-1]\n    var y: Uint // [0, 1920-1]\n  }\n}\n\nstruct Input {\n  var frame: Frame\n}\n\nstruct Output {\n  var frame: Frame\n  // \u4e00\u5e27\u4e2d\u53ef\u80fd\u6709\u7269\u4f53\u4e5f\u53ef\u80fd\u6ca1\u6709\n  var object: Object?\n}\n\nstruct Model {\n  // \u80cc\u666f\u7684\u9ed8\u8ba4\u503c\u8bbe\u7f6e\u4e3a\u5168\u9ed1\u5c31\u597d\u4e86 \u540e\u9762\u4f1a\u81ea\u52a8\u66f4\u65b0\u4e3a\u771f\u5b9e\u7684\u80cc\u666f\n  var background: Frame\n  // \u53ea\u4fdd\u7559\u4e0a\u4e00\u5e27\u7684\u4fe1\u606f\n  var previousFrame: Frame\n  var previousObject: Object?\n\n  // \u6bcf40ms\u4ece\u6444\u50cf\u5934\u62ff\u5230\u65b0\u7684\u4e00\u5e27\u65f6\u8c03\u7528\n  func runAlgotithm(input: Input) -&gt; Output {\n    let currentFrame: Frame = input.frame\n\n    let backgroundChanged: Bool = detectBackgroundChange(currentFrame: currentFrame, backgroud: self.background, previousFrame: self.previousFrame)\n    if backgroundChanged {\n      self.background = currentFrame\n    } else {\n      let currentObject: Object? = detectObject(currentFrame: currentFrame, backgroud: self.background, previousFrame: self.previousFrame, previousObject: self.previousObject)\n    }\n\n    self.previousFrame = currentFrame\n    self.previousObject = currentObject\n    let output = Output(frame: currentFrame, object: currentObject)\n    return Output(state: currentState)\n  }\n\n  func detectBackgroundChange(currentFrame: Frame, backgroud: Frame, previousFrame: Frame) -&gt; Bool {\n    // \u5982\u679c\u753b\u9762\u5267\u70c8\u53d8\u5316/\u6574\u4f53\u53d8\u5316\uff0c\u8bf4\u660e\u80cc\u666f\u53d1\u751f\u53d8\u5316\n    if backgroundChanged {\n      return true\n    } else {\n      return false  \n    }\n  }\n\n  func detectObject(currentFrame: Frame, backgroud: Frame, previousFrame: Frame, previousObject: Object?) -&gt; Object? {\n    if hasObject {\n      return Object(position: Position(x,y))\n    } else {\n      return null\n    }\n  }\n}\n</code></pre>"},{"location":"PROJECTS/video-algorithm-tracking/#_4","title":"\u56fa\u5b9a\u573a\u666f\u4e0b\u591a\u4e2a\u8fd0\u52a8\u7269\u4f53\u7684\u5b9e\u65f6\u9009\u4e2d\u4e0e\u8ddf\u8e2a","text":"<pre><code>struct Frame {\n  var data: FixedLengthArray&lt;Bit&gt;(1080*1920*16)\n}\n\nstruct Object {\n  var id: Uint\n  var position: Position\n  struct Position {\n    var x: Uint\n    var y: Uint\n    var w: Uint\n    var h: Uint\n  }\n}\n\nstruct State {\n  var frame: Frame\n  var objects: Array&lt;Object&gt;\n}\n\nstruct Input {\n  var frame: Frame\n}\n\nstruct Output {\n  var state: State\n}\n\nstruct Model {\n  static let HISTORY_COUNT = 5\n  static var id: Uint // \u6bcf\u53d1\u73b0\u4e00\u4e2a\u65b0\u7269\u4f53 id \u52a0\u4e00  \u6570\u503c\u4e0a\u7b49\u4e8e\u4ece\u6700\u5f00\u59cb\u68c0\u6d4b\u5230\u7684\u7269\u4f53\u603b\u6570\n\n  var historyStates: FixedLengthArray&lt;State&gt;(HISTORY_COUNT)\n\n  // \u6bcf40ms\u4ece\u6444\u50cf\u5934\u62ff\u5230\u65b0\u7684\u4e00\u5e27\u65f6\u8c03\u7528\n  func runAlgotithm(input: Input) -&gt; Output {\n    let currentFrame: Frame = input.frame\n\n    var currentObjects: Array&lt;Object&gt; = []\n    // \u5c06 self.historyStates \u4e0e currentFrame \u5bf9\u6bd4\n    //   \u5982\u679c\u6709\u65b0\u8fdb\u5165\u573a\u666f\u7684 Object\uff0c\u65b0\u5efa\u8fd9\u4e2a Object\uff08\u65b0id\uff0cSelf.id++\uff09\u5e76\u5728 currentObjects \u4e2d\u6dfb\u52a0\n    //   \u5982\u679c\u6709\u539f\u672c\u5c31\u5728\u573a\u666f\u4e2d\u7684 Object\uff0c\u6839\u636e self.historyStatess \u65b0\u5efa Object\uff08\u540cid\uff09\u5e76\u5728 currentObjects \u4e2d\u6dfb\u52a0\n\n    // \u4f7f\u7528 currentObjects \u66f4\u65b0 state.historyObjects\n    let currentState: State = State(frame: currentFrame, objects: currentObjects)\n    state.historyStates.removeFirst()\n    state.historyStates.append(currentState)\n\n    // \u8fd4\u56de\u5f53\u524d\u5e27\u548c\u5f53\u524d\u5e27\u4e2d\u7684\u7269\u4f53\n    return Output(state: currentState)\n  }\n}\n</code></pre>"},{"location":"PROJECTS/video-through/","title":"\u89c6\u9891+\u76f4\u901a","text":"<p>\u8fd9\u4e2a\u5de5\u7a0b\u5c06\u6444\u50cf\u5934\u63a5\u5165 FPGA\uff0c\u7136\u540e\u5c06\u89c6\u9891\u6d41\u6570\u636e\u4e0d\u52a0\u4efb\u4f55\u5904\u7406\u4f20\u81f3 HiLinux\uff0cHiLinux \u518d\u4f20\u81f3 PC\uff0cPC \u5728\u5c4f\u5e55\u4e0a\u6301\u7eed\u663e\u793a\u6444\u50cf\u5934\u7684\u753b\u9762\u3002\u57fa\u4e8e Vivado \u5de5\u7a0b pcie703SdiCameraDDRDemo\u3002</p>"},{"location":"PROJECTS/video-through/#_2","title":"\u6444\u50cf\u5934","text":"<p>\u4f7f\u7528\u7684\u6444\u50cf\u5934\u4e3a HD-SDI \u6570\u5b57\u9ad8\u6e05\u5f69\u8272\u65b9\u578b\u6444\u50cf\u673a\uff0c\u8f93\u51fa\u89c6\u9891 PAL-1080P25\u5e27\u6bcf\u79d2\u3002</p> <p>\u6444\u50cf\u5934\u6709\u4e09\u4e2a\u63a5\u53e3\uff0c\u5206\u522b\u662f\uff1a</p> <ul> <li>\u7ea2\u8272 POWER<ul> <li>\u7535\u6e90</li> <li>\u63a5 DC12V 1A</li> </ul> </li> <li>\u7eff\u8272 HD-SDI<ul> <li>HD-SDI \u9ad8\u6e05\u6570\u5b57\u63a5\u53e3</li> <li>BNC \u6bcd\u63a5\u5934</li> </ul> </li> <li>\u9ec4\u8272 VIDEO\uff08\u4e0d\u4f7f\u7528\uff09<ul> <li>CVBS \u6a21\u62df\u8f93\u51fa\uff08\u7b26\u5408 SMPTE 292M \u6807\u51c6\uff09</li> <li>BNC \u6bcd\u63a5\u5934</li> </ul> </li> </ul>"},{"location":"PROJECTS/video-through/#_3","title":"\u786e\u5b9a\u6444\u50cf\u5934\u6b63\u5e38\u5de5\u4f5c\uff08\u975e\u5fc5\u9700\uff09","text":"<p>\u6444\u50cf\u5934\u7684\u7eff\u8272\u7ebf\u4e3a BNC \u6bcd\u5934\uff0c\u56e0\u6b64\u53ef\u4ee5\u9009\u53d6 BNC \u516c\u5934\u8f6c BNC \u516c\u5934\u7684\u6570\u5b57\u7ebf\u7f06 \u63a5\u5165\u4e00\u4e2a SDI \u8f6c HDMI \u7684\u8f6c\u6362\u5668\uff0c\u7136\u540e\u76f4\u63a5\u4f7f\u7528 HDMI \u53cc\u5934\u7ebf\u63a5\u5165\u7535\u89c6\u3002</p> <p>\u6ca1\u6709\u7535\u89c6\u7684\u8bdd\u53ef\u4ee5\u8d2d\u4e70\u4e00\u4e2a\u89c6\u9891\u91c7\u96c6\u5361\uff0c\u5c06 HDMI \u63d2\u5165\u91c7\u96c6\u5361\uff0c\u518d\u7528\u91c7\u96c6\u5361\u63a5\u5165\u7535\u8111\uff0c\u4f7f\u7528\u7535\u8111\u4e0a\u7684\u5f55\u5236\u8f6f\u4ef6\uff08\u5982 OBS\uff09\uff0c\u9009\u62e9\u8f93\u5165\u6e90\u3002</p> <p>\u65cb\u8f6c\u6444\u50cf\u5934\u8c03\u6574\u7126\u8ddd\uff0c\u67e5\u770b\u5230\u6444\u50cf\u5934\u753b\u9762\u5373\u8bf4\u660e\u6444\u50cf\u5934\u6b63\u5e38\u5de5\u4f5c\u3002</p>"},{"location":"PROJECTS/video-through/#_4","title":"\u63a5\u5165\u677f\u5b50","text":"<p>\u677f\u5b50\u4e0a\u7684\u89c6\u9891\u8f93\u51fa\u63a5\u53e3\u4e3a SMA \u6bcd\u5934\uff0c\u56e0\u6b64\u6700\u7b80\u5355\u7684\u63a5\u5165\u65b9\u5f0f\u662f\u8d2d\u4e70\u4e00\u4e2a SMA\u516c \u8f6c BNC\u516c (SMA/BNC-JJ) \u7684\u63a5\u5934\uff0c\u5c06\u6444\u50cf\u5934\u8fde\u63a5\u81f3\u677f\u5b50\u5373\u53ef\u3002</p>"},{"location":"PROJECTS/video-through/#nipc-5","title":"NIPC-5 \u5f00\u53d1\u677f\u63a5\u53e3","text":"<ul> <li>FPGA<ul> <li>3G-SDI \u8f93\u5165 x 8\uff08<code>IN0</code> / <code>IN1</code> / <code>IN2</code> / <code>IN3</code> / <code>IN4</code> / <code>IN5</code> / <code>IN6</code> / <code>IN7</code>\uff09</li> <li>3G-SDI \u8f93\u51fa x 2\uff08<code>OUT0</code> / <code>OUT1</code>\uff09</li> </ul> </li> <li>ARM<ul> <li>HDMI x 1</li> <li>NET x 2\uff08<code>NET</code>\uff09</li> </ul> </li> </ul>"},{"location":"PROJECTS/video-through/#_5","title":"\u5355\u6444\u50cf\u5934\u76f4\u901a","text":""},{"location":"PROJECTS/video-through/#_6","title":"\u6846\u56fe","text":"<pre><code>flowchart LR\n    I00[SDI \u76f8\u673a\\nPAL 1080p25] -- BNC\u6bcd / BNC\u516c --&gt; I01[\u8f6c\u6362\u5668\\nBNC \u8f6c SMA] -- IN0\\nSMA\u516c / SMA\u6bcd\\n\u539f\u59cb\u89c6\u9891\u6d41\u8f93\u5165 --&gt; FPGA{FPGA\\nBT1120_1080P_25Hz}\n    FPGA -- OUT0\\nSMA\u6bcd / SMA\u516c\\n\u539f\u59cb\u89c6\u9891\u6d41\u8f93\u51fa --&gt; O00[\u8f6c\u6362\u5668\\nSMA \u8f6c BNC] -- BNC\u516c / BNC\u6bcd --&gt; O01[\u8f6c\u6362\u5668\\nSDI \u8f6c HDMI] -- HDMI\u6bcd / HDMI\u53cc\u5934\u7ebf / HDMI\u6bcd --&gt; O02[\u89c6\u9891\u91c7\u96c6\u5361] -- USB\u53e3 --&gt; O03{PC} -- OBS --&gt; \u5c4f\u5e55\n    FPGA -- DMA\\nAxiMM --&gt; ARM{ARM} -- \u5c06\u6bcf\u5e27\u56fe\u50cf\u7f16\u7801\u4e3aPNG --&gt; PNG --  TCP\u4f20\u51fa\\n\u4e00\u6b21\u4f20\u8f93\u4f20\u4e00\u5e27 --&gt; O10{PC}\n    O10 -- Flutter\\n\u6309\u7167\u987a\u5e8f\u663e\u793a --&gt; O12[\u5c4f\u5e55]</code></pre>"},{"location":"PROJECTS/video-through/#_7","title":"\u6ce8\u610f","text":"<ul> <li>\u4ece OUT0 \u8f93\u51fa\u7684\u89c6\u9891\u6d41\u7528\u4e8e\u8c03\u8bd5\u3002</li> <li>\u89c6\u9891\u6d41\u53ef\u4ee5\u88ab\u7406\u89e3\u4e3a\u65f6\u95f4\u4e0a\u8fde\u7eed\u7684\u591a\u5f20\u5355\u5e27\u56fe\u50cf\uff0c\u4e5f\u5c31\u662f\u6682\u65f6\u4e0d\u8003\u8651\u89c6\u9891\u7f16\u7801\u3002</li> <li>JPEG \u7684\u7f16\u7801\u538b\u7f29\u7387\u5e94\u8be5\u53ef\u6839\u636e\u7f51\u7edc\u4f20\u8f93\u901f\u7387\u9009\u62e9\u3002</li> <li>\u73b0\u9636\u6bb5\u53ea\u8003\u8651\u5355 PC \u67e5\u770b\u6444\u50cf\u5934\u5b9e\u65f6\u7684\u5185\u5bb9\uff0c\u4e0d\u8003\u8651\u5355\u5bf9\u591a\u7684\u76f4\u64ad\u3002</li> </ul>"},{"location":"PROJECTS/video-through/#_8","title":"\u6587\u6863","text":"<p>\u4e3b\u8981\u9700\u8981\u770b SMPTE SD HD 3G-SDI 3.0.pdf\u3002</p>"},{"location":"PROJECTS/video-through/#_9","title":"\u53cc\u6444\u50cf\u5934\u76f4\u901a","text":"<ul> <li>\u5c06\u4e0a\u9762\u7684\u67b6\u6784\u6dfb\u52a0\u4e00\u8def\u6444\u50cf\u5934\u5373\u53ef\u3002SMA \u5c04\u9891\u8f93\u51fa\u53e3\u5171\u4e24\u4e2a\uff0c\u63d0\u4f9b\u4e24\u4e2a\u6444\u50cf\u5934\u7684\u76f4\u901a\u89c6\u9891\u6d41\u4f9b\u8c03\u8bd5\u4f7f\u7528\u3002</li> <li>\u5982\u679c\u4e24\u8def\u89c6\u9891\u4f20\u56de PC \u4f7f\u7528\u540c\u4e00\u4e2a\u7aef\u53e3\uff0c\u90a3\u4e48\u5e94\u8be5\u5728 ARM \u7aef\u5c06\u4e24\u5e27\u56fe\u50cf\u5408\u4e8c\u4e3a\u4e00\u3002</li> <li>\u5982\u679c\u4e24\u8def\u89c6\u9891\u4f7f\u7528\u4e0d\u540c\u7684\u7aef\u53e3\uff0cFlutter \u5e94\u8be5\u6dfb\u52a0\u6309\u94ae\u7528\u6765\u6dfb\u52a0\u6216\u5220\u9664\u89c6\u9891\u6d41\u663e\u793a\u9762\u677f\uff0c\u6bcf\u8def\u89c6\u9891\u9009\u62e9\u5404\u81ea\u7684\u7aef\u53e3\u548c\u5b58\u50a8\u8def\u5f84\u3002</li> </ul>"},{"location":"PYTHON/base64/","title":"Json+Base64","text":"<p>\u5f53\u9700\u8981\u5728json\u4e2d\u52a0\u5165\u4e8c\u8fdb\u5236\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528Base64\u7f16\u7801\uff0c\u76f8\u5f53\u4e8e\u5bf9\u4e8c\u8fdb\u5236\u6570\u636e\u505a\u4e86\u4e00\u4e2a\u5230\u7eafascii\u5b57\u7b26\u4e32\u7684\u6620\u5c04\u3002</p> <p>Base64\u7ef4\u57fa\u767e\u79d1</p> <p>Python\u4f7f\u7528\u65b9\u6cd5</p> <pre><code>import base64\nencoded = base64.b64encode(b'data to be encoded') # b'ZGF0YSB0byBiZSBlbmNvZGVk'\ndata = base64.b64decode(encoded) # b'data to be encoded'\n</code></pre>"},{"location":"PYTHON/call-c-char-pointer/","title":"ctypes char\u6570\u7ec4","text":""},{"location":"PYTHON/call-c-char-pointer/#_1","title":"\u8d44\u6599","text":"<p>Python \u5b98\u65b9\u8bf4\u4e86 <code>bytes</code> \u53ef\u4ee5\u81ea\u52a8\u8f6c\u4e3a <code>char *</code>\u3002\u800c\u4e14\u6ce8\u610f\u8f6c\u53d8\u540e\u662f\u53ef\u4fee\u6539\u7684\uff0c\u770b\u4e0b\u9762\u7684\u793a\u4f8b\uff1a</p>"},{"location":"PYTHON/call-c-char-pointer/#_2","title":"\u6587\u4ef6","text":"<p>Makefile:</p> <pre><code>CC=gcc\nAR=ar\n\nLIB_NAME=mylib\n\nshared_library:\n$(CC) -shared -fpic -o lib${LIB_NAME}.so *.c\n\nget_lib: shared_library\nrm -rf lib/\n    mkdir -p lib\n    cp *.so lib/\n    make clean\n\nclean:\nrm -rf *.o *.so\n</code></pre> <p>main.py:</p> <pre><code>import ctypes\n\nmylib = ctypes.cdll.LoadLibrary(\"./lib/libmylib.so\")\nlength = 5\ndata = b\"\\x01\" * (length + 2)\nmylib.ModifyCharArray(data, length)\nprint(data)\n</code></pre> <p>lib.c:</p> <pre><code>int ModifyCharArray(char* array, int length) {\nfor (int i = 0; i &lt; length; i++) {\narray[i] += 1;\n}\n}\n</code></pre>"},{"location":"PYTHON/call-c/","title":"Python\u8c03\u7528C\u8bed\u8a00\u52a8\u6001\u5e93","text":"<p>\u9996\u5148\u4f7f\u7528\u8005\u9700\u8981\u6709\u5173\u4e8e C\u8bed\u8a00 \u52a8\u6001\u5e93 (.so) \u7684\u77e5\u8bc6\u3002\u53ef\u4ee5\u67e5\u770b https://docencia.ac.upc.edu/FIB/USO/Bibliografia/unix-c-libraries.html\u3002</p> <p>\u793a\u4f8b\u4ee3\u7801\u8bf7\u67e5\u770b: https://github.com/NIPC-Project/python-call-c \u5176\u4e2d <code>C/Makefile</code> \u6db5\u76d6\u4e86\u6240\u6709\u7684\u6b65\u9aa4</p> <p>\u5728 Python \u4e2d\u8c03\u7528 C\u8bed\u8a00 \u52a8\u6001\u5e93 \u4e3b\u8981\u4f7f\u7528 Python \u7684 ctypes \u8fd9\u4e2a\u5e93\u3002\u5b98\u65b9\u6587\u6863 https://docs.python.org/3.10/library/ctypes.html\u3002</p>"},{"location":"PYTHON/call-c/#xilinxpcie","title":"\u4ee5\u8c03\u7528Xilinx\u5b98\u65b9\u7684PCIE\u63a7\u5236\u5e93\u4e3a\u4f8b","text":"<p>\u67e5\u770b https://github.com/NIPC-Project/pcie-image <code>pcie-lib</code> \u6587\u4ef6\u5939\u3002</p> <p>\u58f0\u660e <code>XPcie_Lib.h</code>\uff1a</p> <pre><code>//\u677f\u5361\u4fe1\u606f\n#define MAX_CARDNUM 8\ntypedef struct{\nint nBoardNum;\nstruct {\nunsigned short vendor;\nunsigned short device;\nint nBoardID;\n} BOARDINDEX[MAX_CARDNUM];\n} XPCIE_BOARDINFO, *PXPCIE_BOARDINFO;\n\nvoid XPcie_GetBoardListInfo(PXPCIE_BOARDINFO pXPcieBoardInfo);\n</code></pre> <p>Python \u8c03\u7528\uff08\u5176\u4e2d <code>lib/libxdma_so.so</code> \u4e3a\u4e0a\u8ff0\u5934\u6587\u4ef6\u5bf9\u5e94\u7684\u5e93\uff09\uff1a</p> <pre><code>import ctypes\n\n\nclass PcieBoard(ctypes.Structure):\n    _fields_ = [\n        (\"vendor\", ctypes.c_uint16),\n        (\"device\", ctypes.c_uint16),\n        (\"boardId\", ctypes.c_int32),\n    ]\n\n\nclass PcieBoardsInfo(ctypes.Structure):\n    _fields_ = [(\"boardNum\", ctypes.c_int32), (\"boards\", PcieBoard * 8)]\n\n\npcieBoardsInfo = PcieBoardsInfo()\nprint(ctypes.sizeof(pcieBoardsInfo))\nprint(pcieBoardsInfo.boardNum)\n\n\nlibc_xdma_so = ctypes.cdll.LoadLibrary(\"./lib/libxdma_so.so\")\nlibc_xdma_so.XPcie_GetBoardListInfo(ctypes.byref(pcieBoardsInfo))\n</code></pre>"},{"location":"PYTHON/http-server/","title":"Python\u542f\u52a8HTTP\u670d\u52a1\u5668","text":"<p>\u5f00\u53d1\u677f <code>server.py</code></p> <pre><code>from http.server import HTTPServer, BaseHTTPRequestHandler\nimport json\n\nimage_data = [1,2,3]\n\nclass Resquest(BaseHTTPRequestHandler):\n    def do_GET(self):\n        self.send_response(200)\n        self.send_header(\"Content-type\", \"application/json\")\n        self.end_headers()\n        dict={\"image_data\": image_data}\n        json_text = json.dumps(dict)\n        self.wfile.write(json_text.encode())\n\nif __name__ == '__main__':\n    host = ('0.0.0.0', 8888)\n    server = HTTPServer(host, Resquest)\n    server.serve_forever()\n</code></pre> <p>\u672c\u673a <code>client.py</code></p> <pre><code>import requests\nimport json\n\nurl = \"http://192.168.10.68:8888\"\nresponse = requests.get(url)\nprint(response.text)\nresponse_dict = json.loads(response.text)\nprint(response_dict[\"image_data\"])\n</code></pre>"},{"location":"PYTHON/pypng/","title":"pypng","text":"<p>\u56fe\u50cf\u4f20\u8f93\u8ba1\u5212\u91c7\u7528\u65e0\u635f\u7684PNG\u683c\u5f0f\u3002</p> <ul> <li>PyPNG<ul> <li>\u53ea\u9700\u8981\u4e00\u4e2aPython\u6587\u4ef6</li> <li>\u4e0d\u4f9d\u8d56\u4efb\u4f55\u5176\u4ed6Python\u5e93</li> <li>\u5728\u7ebf\u6587\u6863</li> </ul> </li> </ul> <p>\u7b80\u5355\u4f7f\u7528\u53ef\u4ee5\u67e5\u770b\uff1ahttps://github.com/NIPC-Project/python-png</p>"},{"location":"VIVADO/connect-xilinx-usb/","title":"\u5f00\u53d1\u677f\u8fde\u63a5FPGA\u70e7\u5199\u5668","text":"<p>\u6309\u7167\u5982\u56fe\u7684\u65b9\u5f0f\u63a5\u7ebf\u5373\u53ef\uff0c\u4ece\u5de6\u5230\u53f3\u5bf9\u4ece\u5de6\u5230\u53f3\uff1a</p> <p></p>"},{"location":"VIVADO/install/","title":"\u5b89\u88c5Vivado2018.3","text":"<p>\u9996\u5148\u4e0b\u8f7d\u5b89\u88c5 Windows10 \u7684\u6700\u65b0\u7248\u672c\uff0c\u4e3a\u4e86\u9632\u6b62\u4e0d\u95f4\u65ad\u7684\u66f4\u65b0\uff0c\u7b2c\u4e00\u6b21\u6253\u5f00\uff0c\u6240\u6709\u5185\u5bb9\u90fd\u66f4\u65b0\u5230\u6700\u65b0\u4e4b\u540e\uff0c\u5173\u95ed\u6240\u6709\u7684\u66f4\u65b0\u9879\u3002</p> <p>\u6253\u5f00 https://china.xilinx.com/support/download/index.html/content/xilinx/zh/downloadNav/vivado-design-tools.html</p> <p>\u5de6\u4fa7\u7684 <code>Version</code>\uff0c\u9009\u62e9 <code>Vivado\u5b58\u6863</code>\u3002</p> <p>\u70b9\u51fb <code>2018.3</code>\uff0c\u9009\u62e9 <code>Vivado Design Suite - HLx \u7248\u672c - 2018.3  Full Product Installation</code> \u4e0b\u7684 <code>Vivado HLx 2018.3: WebPACK and Editions - Windows Self Extracting Web Installer (EXE - 62.66 MB)</code></p> <p>\u6253\u5f00\u4e4b\u540e\u9009\u62e9\u4e13\u4e1a\u7248\uff0c\u5426\u5219IP\u6838\u65e0\u6cd5\u4f7f\u7528\u3002\u9700\u8981\u9009\u62e9 UltraScale\uff0c\u56e0\u4e3aKU060\u662f\u8fd9\u4e2a\u67b6\u6784\u7684\u3002</p>"},{"location":"VIVADO/license/","title":"\u5b89\u88c5License","text":"<p>\u5982\u679c\u6ca1\u6709LICENSE\uff0c\u76f4\u63a5\u751f\u6210\u6bd4\u7279\u6d41\uff0c\u4f1a\u62a5\u9519\uff1a</p> <p></p> <pre><code>[Common 17-345] A valid license was not found for feature 'Synthesis' and/or device 'xcku060'. Please run the Vivado License Manager for assistance in determining\nwhich features and devices are licensed for your system.\nResolution: Check the status of your licenses in the Vivado License Manager. For debug help search Xilinx Support for \"Licensing FAQ\". If you are using a license server, verify that the license server is up and running a version of the xilinx daemon that is compatible with the version of Xilinx software that you are using. Please note that Vivado 2017.3 and later requires upgrading your license server tools to the Flex 11.14.1 tools. Please confirm with your license admin that the correct version of the license server tools are installed.\n</code></pre> <p>\u53ef\u4ee5\u8bd5\u7528\u4e5f\u53ef\u4ee5\u82b1\u94b1\u4e70\u2026\u2026</p> <p>\u6211\u8fd9\u91cc\u662f\u76f4\u63a5\u62ff\u5230\u4e86\u4e00\u4e2aLicense\u6587\u4ef6\uff1a<code>xilinx_ise_vivado.lic</code></p> <p>\u641c\u7d22 <code>license</code>\uff0c\u6253\u5f00 <code>Manage Xilinx Licenses 2018.3</code>\uff0c</p> <p>\u5de6\u4fa7 <code>Get License &gt; Load License</code>\uff0c\u70b9\u51fb\u53f3\u4fa7 <code>Copy License...</code> \u9009\u62e9 <code>xilinx_ise_vivado.lic</code> \u5bfc\u5165\u5c31\u884c\u4e86\u3002</p>"},{"location":"VIVADO/program-device/","title":"\u70e7\u5f55\u5230FPGA","text":"<p>\u4ee5\u5de5\u7a0b <code>pcie703Hi3531Img</code> \u8fd9\u4e2a\u5de5\u7a0b\u4e3a\u4f8b\uff1a</p> <p>\u6253\u5f00 <code>prj</code> \u6587\u4ef6\u5939\uff0c\u53cc\u51fb <code>top.xpr</code> \u5373\u53ef\u6253\u5f00\u8fd9\u4e2a\u5de5\u7a0b\u3002</p> <p>\u9996\u5148\u70b9\u51fb\u5de6\u4fa7\u7684 <code>PROGRAM AND DEBUG &gt; Generate Bitstream</code>\u3002\u8fd9\u91cc\u5982\u679c\u63d0\u793a <code>Bitstream generation has already completed and is up-to-date. Re-run anyway?</code>\uff0c\u8bf4\u660e\u6bd4\u7279\u6d41\u5df2\u7ecf\u662f\u6700\u65b0\u7684\u4e86\uff0c\u9009\u62e9 <code>Cancel</code>\u3002</p> <p>\u70b9\u51fb\u5de6\u4fa7\u7684 <code>PROGRAM AND DEBUG &gt; Open Hardware Manager &gt; Open Target &gt; Auto Connect</code></p> <p></p> <p>\u8fde\u63a5\u4e0a\u4e4b\u540e\u70b9\u51fb\u5de6\u4fa7 <code>PROGRAM AND DEBUG &gt; Open Hardware Manager &gt; Program Device &gt; xcku060_0</code>\u3002\u5f39\u51fa\u7684\u6846\uff0c<code>Bitstream file</code> \u70b9\u51fb\u53f3\u4fa7\u7684\u7701\u7565\u53f7\uff0c\u70b9\u51fb\u5de6\u4e0a\u89d2\u7b2c\u4e09\u4e2a\u7535\u8111\u52a0\u4e00\u4e2a\u7eff\u70b9\u7684\u56fe\u6807\u8df3\u8f6c\u5230\u5f53\u524d\u7684\u5de5\u7a0b\u76ee\u5f55\uff0c\u70b9\u51fb\u5de6\u4fa7 <code>top.runs &gt; impl_1 &gt; top_wrapper.bit</code>\uff0c\u70b9\u51fb <code>OK</code>\uff0c\u70b9\u51fb <code>Program</code> \u5373\u53ef\u5f00\u59cb\u70e7\u5f55\u3002</p> <p></p> <p>\u70e7\u5f55\u5b8c\u6210\u4e4b\u540e\uff0c\u9700\u8981\u5728 HiLinux \u91cd\u542f\u8bbe\u5907\uff0c\u4f7f\u7528 <code>reboot</code> \u547d\u4ee4\u5373\u53ef\u3002</p> <p>\u6ce8\uff1a\u91cd\u542f\u4e4b\u540e\uff0c\u8fd8\u9700\u8981\u4f7f\u7528 <code>insmod xdma.ko</code> \u6765\u52a0\u8f7d <code>xdma</code> \u7684\u5185\u6838\uff0c\u4ece\u800c\u8c03\u7528 <code>xdma_so.so</code> \u52a8\u6001\u5e93\u4e2d\u7684\u4ee3\u7801\u3002</p>"}]}